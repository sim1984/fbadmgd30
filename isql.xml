<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://docbook.org/xml/5.1/rng/docbook.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="http://docbook.org/xml/5.1/sch/docbook.sch" type="application/xml" schematypens="http://purl.oclc.org/dsdl/schematron"?>
<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
    version="5.1" xml:id="isql" xml:lang="ru">
    <info>
        <title>Утилита ISQL</title>
    </info>

    <indexterm>
        <primary>ISQL</primary>
    </indexterm>

    <para>В этой главе содержится описание консольной утилиты Firebird Interactive SQL Utility
            (<application>isql</application>) и инструкции по его использованию для выполнения задач
        в базе данных.</para>

    <para>Утилита ISQL расположена в корневом каталоге установки Firebird. Она предоставляет
        интерфейс командной строки для интерактивного доступа к базе данных Firebird. ISQL принимает
        операторы DSQL вместе с группой команд SET и SHOW для запросов и взаимодействия с базой
        данных Firebird. Некоторые команды SET могут быть включены в сценарии DDL для выполнения
        пакетных операций в <application>isql</application>. Она также обрабатывает команды DDL, DML
        и консоли.</para>

    <para>Утилита <application>isql</application> может использоваться в трех режимах: в качестве
        интерактивного сеанса; прямо из командной строки; и как неинтерактивный сеанс, используя
        сценарий оболочки или пакетный файл. В каждом из режимов могут выполняться разные задачи,
        как показано ниже: <itemizedlist>
            <listitem>
                <para>В интерактивном режиме пользователь последовательно вводит команды для работы
                    с базами данных и тут же получает результат их выполнения. При этом одна команда
                    может быть разбита на несколько строк. После завершения обработки каждой команды
                    и вывода всех результатов её работы пользователь получает приглашение ввести
                    следующую команду до тех пор, пока не будет введена команда выхода из
                    интерактивного режима QUIT или EXIT. Isql можно использовать в интерактивном
                    режиме для:<itemizedlist spacing="compact">
                        <listitem>
                            <para>Создания, редактирования, удаления или просмотра данных и
                                метаданных;</para>
                        </listitem>
                        <listitem>
                            <para>Ввода файла сценария содержащего пакет SQL запросов;</para>
                        </listitem>
                        <listitem>
                            <para>Добавлять и модифицировать данные;</para>
                        </listitem>
                        <listitem>
                            <para>Предоставлять разрешение пользователю и отбирать их;</para>
                        </listitem>
                        <listitem>
                            <para>Управлять учётными записями;</para>
                        </listitem>
                        <listitem>
                            <para>Выполнять административные функции базы данных.</para>
                        </listitem>
                    </itemizedlist></para>
            </listitem>
            <listitem>
                <para>Непосредственно из командной строки, с отдельными параметрами и без запуска
                    интерактивного сеанса. Команды выполняются и по завершении возвращают управление
                    автоматически операционной системе.</para>
            </listitem>
            <listitem>
                <para>В неинтерактивном сеансе пользователь использует сценарий оболочки или
                    пакетный файл для выполнения функций базы данных.</para>
            </listitem>
        </itemizedlist></para>

    <note>
        <para>Поскольку другие приложения в среде Linux, например, mySQL, также используют isql в
            качестве имени утилиты, рекомендуется запускать утилиту Firebird из ее собственного
            каталога или указывать абсолютный путь к файлу, если у вас есть другая реляционная база
            данных, кроме Firebird, установленная на вашей машине.</para>
    </note>

    <note>
        <para>Некоторые из затронутых дистрибутивов, такие как Mint Linux — на основе Ubuntu —
            переименовали Firebird в isql в isql-fb. Аналогичные изменения могут быть и в других
            дистрибутивах.</para>

        <para>Кроме того, не все дистрибутивы устанавливают Firebird в одно и то же место. Например,
            OpenSuse устанавливает практически все в <filename>/opt/firebird/3.0</filename>, но
            Ubuntu и его производные устанавливают его в различные места, но утилиты находятся в
                <filename>/usr/bin</filename>.</para>

        <para>Далее предполагается что утилита называется isql.</para>
    </note>

    <section xml:id="isql-invoking">
        <title>Запуск isql</title>

        <para>Перейдите в корневой каталог установки сервера Firebird и введите в командной строке
                <filename>isql</filename> (Windows) или <filename>./isql</filename> (Linux). Если
            каталог с isql добавлен в PATH, то нет необходимости переходить в него. </para>
        <para>Синтаксис запуска isql следующий:
            <programlisting>
isql [<replaceable>&lt;options&gt;</replaceable>] [<replaceable>&lt;database&gt;</replaceable>]  
                
<replaceable>&lt;database&gt;</replaceable> ::= [<replaceable>&lt;server spec&gt;</replaceable>] {<replaceable>&lt;db_filename&gt;</replaceable> | <replaceable>&lt;db_alias&gt;</replaceable>}  
                
<replaceable>&lt;server spec&gt;</replaceable> ::= 
    <replaceable>&lt;host&gt;</replaceable>[\{<replaceable>&lt;port&gt;</replaceable> | <replaceable>&lt;service&gt;</replaceable>}]:       
  | \\<replaceable>&lt;host&gt;</replaceable>[@{<replaceable>&lt;port&gt;</replaceable> | <replaceable>&lt;service&gt;</replaceable>}]\     
  | <replaceable>&lt;protocol&gt;</replaceable>://[<replaceable>&lt;host&gt;</replaceable>[:{<replaceable>&lt;port&gt;</replaceable> | <replaceable>&lt;service&gt;</replaceable>}]/]  
                
<replaceable>&lt;protocol&gt;</replaceable> ::= inet | inet4 | inet6 | wnet | xnet                
        </programlisting>
        </para>
        <para>Если параметры <replaceable>&lt;options&gt;</replaceable> не указаны,
                <application>isql</application> запускает интерактивный сеанс. Если база данных не
            указана, то необходимо подключиться к существующей базе данных или создать новую. Если
            база данных была указана, <application>isql</application> запускает интерактивный сеанс,
            подключаясь к указанной базе данных.</para>

        <para>Если указаны параметры, <application>isql</application> запускается в интерактивном
            или не интерактивном режиме, в зависимости от параметров. Например, чтение входного
            файла и запись в выходной файл являются не интерактивными задачами, поэтому параметры
            -input или -output не запускают интерактивный сеанс. Дополнительные не интерактивные
            параметры включают -a, -database, -extract и -x, которые используются при извлечении
            операторов DDL.</para>

        <para>Когда вы запускаете интерактивный сеанс isql, появляется следующее приглашение:
            <screen>
SQL>            
        </screen>
        </para>

        <para>Вы должны завершить каждую команду символом-терминатором. Терминатором по умолчанию
            является точка с запятой (;). Вы можете изменить терминатор на любой символ или группу
            символов с помощью команды SET TERMINATOR или с помощью параметра командной строки
            -terminator. Если вы опустите терминатор, появится приглашение для продолжения ввода
            (CON>).</para>

        <para>Ниже приведен самый простой способ запуска isql. После перехода в интерактивный режим
            вы должны начать с создания новой базы данных или подключения к ней. Сообщение, выданное
            isql, является подсказкой относительно того, что вы должны делать дальше. <programlisting>
<![CDATA[            
c:\Firebird\3.0>isql

Use CONNECT or CREATE DATABASE to specify a database
SQL> CONNECT "inet://localhost:3053/employee"
CON> user "SYSDBA" password 'masterkey';
Database: "inet://localhost:3053/employee", User: SYSDBA
SQL>    
]]>
        </programlisting>
        </para>

        <para>В следующем примере показано, как передать имя базы данных и учетные данные
            пользователя в командной строке. <programlisting>
<![CDATA[            
c:\Firebird\3.0>isql -user sysdba -password masterkey "inet://localhost:3053/employee"

Database: inet://localhost:3053/employee, User: SYSDBA
SQL>
]]>
        </programlisting>
        </para>

        <para>В этом примере мы использовали псевдоним для базы данных employee. Этот пример
            предопределен в файле <filename>databases.conf</filename>, который обычно находится в
            каталоге, в котором установлен Firebird, но некоторые дистрибутивы Linux помещают его в
                <filename>/etc/firebird/n.n</filename>, где n.n - версия сервера базы данных
            Firebird. Ниже приведена дополнительная информация о подключении к базам данных с
            использованием полных путей или псевдонимов.</para>
    </section>

    <section xml:id="isql-switches">
        <title>Переключатели командной строки</title>

        <para>Переключатели командной строки — это аргументы, которые начинаются с символа
            минус/дефис (-). Ниже приведен пример того, что происходит, когда вы пытаетесь запустить
            isql с недопустимым переключателем — он отображает список допустимых ключей с кратким
            описанием каждого из них. <programlisting>
<![CDATA[
c:\Firebird\3.0>isql -help
Unknown switch: -help
usage:    isql [options] [<database>]
        -a(ll)                  extract metadata incl. legacy non-SQL tables
        -b(ail)                 bail on errors (set bail on)
        -c(ache) <num>          number of cache buffers
        -ch(arset) <charset>    connection charset (set names)
        -d(atabase) <database>  database name to put in script creation
        -e(cho)                 echo commands (set echo on)
        -ex(tract)              extract metadata
        -f(etch_password)       fetch password from file
        -i(nput) <file>         input file (set input)
        -m(erge)                merge standard error
        -m2                     merge diagnostic
        -n(oautocommit)         no autocommit DDL (set autoddl off)
        -nod(btriggers)         do not run database triggers
        -now(arnings)           do not show warnings
        -o(utput) <file>        output file (set output)
        -pag(elength) <size>    page length
        -p(assword) <password>  connection password
        -q(uiet)                do not show the message "Use CONNECT..."
        -r(ole) <role>          role name
        -r2 <role>              role (uses quoted identifier)
        -s(qldialect) <dialect> SQL dialect (set sql dialect)
        -t(erminator) <term>    command terminator (set term)
        -tr(usted)              use trusted authentication
        -u(ser) <user>          user name
        -x                      extract metadata
        -z                      show program and server version
]]>                        
        </programlisting>
        </para>

        <note>
            <para>Требуются только начальные символы в опции. Вы можете ввести любую часть текста,
                заключенную в скобки, включая полное имя опции. Например, указание -n, -no или
                -noauto имеет тот же эффект.</para>
        </note>

        <para>
            <table frame="topbot">
                <title>Переключатели командной строки</title>
                <tgroup cols="2">
                    <colspec colname="c1" colnum="1" colwidth="0.5*"/>
                    <colspec colname="c2" colnum="2" colwidth="1.4*"/>
                    <thead>
                        <row>
                            <entry>Опция</entry>
                            <entry>Описание</entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>-a(ll)</entry>
                            <entry><para>Извлечение всех метаданных, включая не-SQL объекты.
                                    Используется совместно с командой extract</para></entry>
                        </row>
                        <row>
                            <entry>-b(ail)</entry>
                            <entry><para>Этот переключатель указывает утилите передать ошибку в ОС,
                                    но только в пакетном режиме (<code>SET BAIL ON</code>). Он был
                                    добавлен, чтобы предотвратить выполнение сценариев isql после
                                    обнаружения ошибки. Дальнейшие операторы не будут выполняться, и
                                    isql вернет код ошибки в ОС.</para>
                                <para>Пользователям по-прежнему необходимо использовать
                                    переключатель — e(cho) для вывода команд в выходной файл, чтобы
                                    выделить точный оператор, вызвавший ошибку.</para>
                                <para>Когда сервер предоставляет информацию о строках и столбцах,
                                    пользователи могут найти точную строку в DML скрипте, вызвавшую
                                    проблему. Когда сервер указывает только ошибку, то пользователи
                                    могут увидеть только первую строку оператора, вызвавшего сбой по
                                    отношению ко сему сценарию.</para>
                                <para>Эта функция также поддерживается во вложенных скриптах.
                                    Например, сценарий A включает в себя сценарий B, а сценарий B
                                    вызывает ошибку, номер строки связан со сценарием B. Когда
                                    сценарий B полностью прочитан, <application>isql</application>
                                    продолжает считать строки, относящиеся к сценарию A, поскольку
                                    каждый файл получает отдельный счетчик строк. Сценарий A
                                    включает сценарий B, когда сценарий A использует команду
                                        <code>INPUT</code> для загрузки сценария B.</para>
                            </entry>
                        </row>
                        <row>
                            <entry>-c(ache) <replaceable>&lt;num&gt;</replaceable></entry>
                            <entry>Задаёт количество страниц, которые будут кэшированы при
                                соединении с БД.</entry>
                        </row>
                        <row>
                            <entry>-ch(arset) <replaceable>&lt;charset&gt;</replaceable></entry>
                            <entry>Задаёт кодировку для текущего соединения. Это же можно сделать с
                                использовании команды <code>SET NAMES</code></entry>
                        </row>
                        <row>
                            <entry>-d(atabase) <replaceable>&lt;database&gt;</replaceable></entry>
                            <entry><para>Используется совместно с переключателем -x или -ex.
                                    Изменяет оператор CREATE DATABASE, который извлекается в файл:<itemizedlist>
                                        <listitem>
                                            <para>Без переключателя -d оператор CREATE DATABASE
                                                извлекается в скрипт как комментарий в стиле C, и
                                                использует имя базы данных указанное в командной
                                                строке isql</para>
                                        </listitem>
                                        <listitem>
                                            <para>С переключателем -d оператор CREATE DATABASE
                                                извлекается не закомментированным, и подставляет имя
                                                базы данных указанное в переключателе</para>
                                        </listitem>
                                    </itemizedlist></para></entry>
                        </row>
                        <row>
                            <entry>-e(cho) </entry>
                            <entry>Включает дублирование команд на указанное устройство вывода
                                (монитор, в файл, и т. д.) Это можно сделать и с использованием
                                команды <code>SET ECHO ON</code></entry>
                        </row>
                        <row>
                            <entry>-ex(tract)</entry>
                            <entry>Извлечение метаданных из базы данных. Его можно использовать
                                вместе с ключом -o(utput) для извлечения информации в указанный
                                выходной файл.</entry>
                        </row>
                        <row>
                            <entry>-f(etch_password) </entry>
                            <entry>Извлечение пароля из файла</entry>
                        </row>
                        <row>
                            <entry>-i(nput) <replaceable>&lt;file&gt;</replaceable>
                            </entry>
                            <entry>Задаёт файл с SQL-скриптом для выполнения. Файлы скриптов могут
                                содержать команду <code>SET INPUT</code> для включения других
                                файлов.</entry>
                        </row>
                        <row>
                            <entry>-m(erge_stderr) </entry>
                            <entry>Перенаправление ошибок (stderr) на поток стандартного вывода.
                                Ключ командной строки -m(erge) может использоваться для включения
                                сообщений об ошибках в выходные файлы.</entry>
                        </row>
                        <row>
                            <entry>-m2 </entry>
                            <entry>Отправлять информацию о статистике и планах в выходной файл,
                                который указан в переключателе -o(utput). Ключ командной строки -m2
                                гарантирует, что статистика и информация о плане, полученные из
                                команд <code>SET STATS</code>, <code>SET PLAN</code> и <code>SET
                                    PLANONLY</code>, также отправляются в выходной файл, а не просто
                                возвращаются в консоль.</entry>
                        </row>
                        <row>
                            <entry>-n(oautocommit)</entry>
                            <entry>Отключить автоматическое подтверждение DDL-операций. По умолчанию
                                операторы DDL фиксируются автоматически в отдельной транзакции.
                                Может быть изменено командой <code>SET AUTODDL OFF</code></entry>
                        </row>
                        <row>
                            <entry>-nod(btriggers)</entry>
                            <entry>Не запускать триггеры базы данных.</entry>
                        </row>
                        <row>
                            <entry>-now(arnings)</entry>
                            <entry>Не показывать предупреждения.</entry>
                        </row>
                        <row>
                            <entry>-o(utput) <replaceable>&lt;file&gt;</replaceable></entry>
                            <entry>Задаёт файл для вывода результата выполнения запросов. Без
                                аргументов перенаправляет вывод на стандартное устройство вывода
                                (монитор). Может быть изменён так же командой <code>SET
                                    OUTPUT</code></entry>
                        </row>
                        <row>
                            <entry>-pag(elength) <replaceable>&lt;size&gt;</replaceable></entry>
                            <entry>Размер страницы. Печатает заголовки столбцов каждые
                                    <replaceable>&lt;size&gt;</replaceable> строк вместо значений по
                                умолчанию 20.</entry>
                        </row>
                        <row>
                            <entry>-p(assword) <replaceable>&lt;password&gt;</replaceable></entry>
                            <entry>Пароль пользователя при подключении к базе данных.</entry>
                        </row>
                        <row>
                            <entry>-q(uiet)</entry>
                            <entry>Не показывать сообщение "Use CONNECT...".</entry>
                        </row>
                        <row>
                            <entry>-r(ole) <replaceable>&lt;role&gt;</replaceable></entry>
                            <entry>Имя роли при подключении к базе данных.</entry>
                        </row>
                        <row>
                            <entry>-r2 <replaceable>&lt;role&gt;</replaceable></entry>
                            <entry><para>Имя роли (с использованием квотированных идентификаторов).
                                    Этот переключатель можно использовать для указания имени роли с
                                    учетом регистра. </para>
                                <para>По умолчанию для передачи роли используется переключатель
                                    -r(ole). В этом случае роль, представленная в командной строке,
                                    пишется в верхнем регистре. Если используется переключатель -r2,
                                    то роль передаются в движок в точности так, как это указано в
                                    командной строке.</para></entry>
                        </row>
                        <row>
                            <entry>-s(qldialect) <replaceable>&lt;dialect&gt;</replaceable></entry>
                            <entry>Устанавливает SQL диалект к котором интерпретируются последующие
                                команды до конца сеанса или до тех пор, пока диалект не будет
                                изменён с помощью инструкции <code>SET SQL DIALECT</code>.</entry>
                        </row>
                        <row>
                            <entry>-t(erminator) <replaceable>&lt;term&gt;</replaceable></entry>
                            <entry>Изменяет символ конца оператора (терминатора) с точки с запятой
                                    <quote>;</quote> по умолчанию на
                                    <replaceable>&lt;term&gt;</replaceable>, где
                                    <replaceable>&lt;term&gt;</replaceable> — любой символ или
                                последовательность символов. Тоже самое можно сделать использую
                                команду <code>SET TERM</code>.</entry>
                        </row>
                        <row>
                            <entry>-tr(usted)</entry>
                            <entry>Использовать доверительную аутентификацию.</entry>
                        </row>
                        <row>
                            <entry>-u(ser) <replaceable>&lt;user&gt;</replaceable></entry>
                            <entry>Имя пользователя для подключения к базе данных.</entry>
                        </row>
                        <row>
                            <entry>-x</entry>
                            <entry>Извлечение метаданных из базы данных. Его можно использовать
                                вместе с ключом -o(utput) для извлечения информации в указанный
                                выходной файл.</entry>
                        </row>
                        <row>
                            <entry>-z</entry>
                            <entry>Показать версии утилиты и сервера.</entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </para>

        <section xml:id="isql-switches-examples">
            <title>Примеры</title>

            <para>
                <example>
                    <title>Выполнение скрипта создания базы данных</title>

                    <para>
                        <programlisting>
isql -input createdb.sql                            
                        </programlisting>
                    </para>
                </example>
                <example>
                    <title>Запуск интерактивного сеанса с подключением к удалённой базе
                        данных</title>

                    <para>В следующем примере начинается интерактивное соединение с удаленной базой
                        данных. Удаленный сервер jupiter, принимает указанную комбинацию
                        пользователя и пароля с привилегиями, назначенными роли STAFF:
                        <programlisting>
isql -user sales -password mycode -role staff 'jupiter:/usr/customer.fdb'                            
                        </programlisting>
                    </para>
                </example>
                <example>
                    <title>Запуск интерактивного сеанса без подключения к базе данных</title>

                    <para>Следующий пример запускает интерактивный сеанс, но не подключается к базе
                        данных. Все введенные команды <application>isql</application> выводятся на
                        печать, а результаты запроса печатают заголовки столбцов каждые 30 строк:
                        <programlisting>
isql -echo -page 30                            
                        </programlisting>
                    </para>
                </example>
            </para>
        </section>
    </section>
    <section xml:id="isql-start_session">
        <title>Начало сессии Isql</title>

        <para>Чтобы начать сеанс <application>isql</application>, введите параметры командной строки
            и имя базы данных в оболочке Linux/Unix или командной консоли Windows. Например:
            <programlisting>
isql [<replaceable>&lt;options&gt;</replaceable>] [<replaceable>&lt;database&gt;</replaceable>]                          
                        </programlisting>
        </para>

        <note>
            <para>При подключении к удаленной базе данных вам нужно будет включить соответствующие
                параметры -user и -password в свои параметры, если только пользователи не объявили
                ISC_USER и ISC_PASSWORD в качестве переменных операционной системы. Например:
                <programlisting>
isql -user SYSDBA -password masterkey inet4://localhost/mydatabase                            
                        </programlisting>
            </para>
            <para>При подключении к локальной базе данных в embedded варианте достаточно указать
                только имя пользователя (пароль будет проигнорирован):
                <programlisting>
isql -user SYSDBA employee.db                           
                        </programlisting>
            </para>
            <para>В Windows вы можете использовать доверительную аутентификацию, при условии что она
                настроена в <filename>firebird.conf</filename> или
                    <filename>databases.conf</filename>:
                <programlisting>
isql -trusted inet4://localhost/mydatabase                            
                        </programlisting>
            </para>
        </note>
        <para>Если параметры <replaceable>&lt;options&gt;</replaceable> не указаны,
                <application>isql</application> запускает интерактивный сеанс. Если база данных не
            указана, то необходимо подключиться к существующей базе данных или создать новую. Если
            база данных была указана, <application>isql</application> запускает интерактивный сеанс,
            подключаясь к указанной базе данных.</para>

        <para>Чтение входного файла и запись в выходной файл не считаются интерактивными задачами,
            поэтому параметры командной строки -input или -output не инициируют интерактивный сеанс.
            Опции, используемые для извлечения операторов DDL, такие как -a и -x, также инициируют
            только неинтерактивный сеанс.</para>

        <para>Isql может быть запущен с локального или удаленного клиента:<itemizedlist>
                <listitem>
                    <para>При подключении с использованием локального клиента вы можете установить
                        переменные среды ISC_USER и ISC_PASSWORD.</para>
                </listitem>
                <listitem>
                    <para>При подключении с удаленного клиента вам потребуется указать
                        действительные имя и пароль.</para>
                </listitem>
            </itemizedlist></para>
    </section>
    <section xml:id="isql-end_session">
        <title>Завершение сессии Isql</title>

        <indexterm>
            <primary>ISQL</primary>
            <secondary>QUIT</secondary>
        </indexterm>
        <indexterm>
            <primary>ISQL</primary>
            <secondary>EXIT</secondary>
        </indexterm>

        <para>Существует два способа выхода из isql:<itemizedlist>
                <listitem>
                    <para>Если вы хотите откатить всю неподтвержденную работу и выйти из isql,
                        введите в командной строке следующую команду:
                        <programlisting>
SQL> QUIT;                        
                    </programlisting>
                    </para>
                </listitem>
                <listitem>
                    <para>Если вы хотите зафиксировать всю свою работу перед выходом из isql,
                        введите следующую команду:
                        <programlisting>
SQL> EXIT;                      
                    </programlisting>
                    </para>
                </listitem>
            </itemizedlist></para>
    </section>
    <section xml:id="isql-help">
        <title>Получение справки</title>
        <indexterm>
            <primary>ISQL</primary>
            <secondary>HELP</secondary>
        </indexterm>

        <para>Isql поставляется с командой HELP. Это дает краткую информацию о большинстве доступных
            команд. Команда HELP также позволяет перейти к более подробной информации. Чтобы
            активировать справочную систему, просто введите HELP в командной строке, как показано
            ниже: <programlisting>
SQL> HELP;                      
                    </programlisting>
            <screen>
<![CDATA[
Frontend commands:
BLOBDUMP <blobid> <file>   -- dump BLOB to a file
BLOBVIEW <blobid>          -- view BLOB in text editor
EDIT     [<filename>]      -- edit SQL script file and execute
EDIT                       -- edit current command buffer and execute
HELP                       -- display this menu
INput    <filename>        -- take input from the named SQL file
OUTput   [<filename>]      -- write output to named file
OUTput                     -- return output to stdout
SET      <option>          -- (Use HELP SET for complete list)
SHELL    <command>         -- execute Operating System command in sub-shell
SHOW     <object> [<name>] -- display system information
    <object> = CHECK, COLLATION, DATABASE, DOMAIN, EXCEPTION, FILTER, FUNCTION,
               GENERATOR, GRANT, INDEX, PACKAGE, PROCEDURE, ROLE, SQL DIALECT,
               SYSTEM, TABLE, TRIGGER, VERSION, USERS, VIEW
EXIT                       -- exit and commit changes
QUIT                       -- exit and roll back changes

All commands may be abbreviated to letters in CAPitals
]]>                
            </screen>
        </para>
        <indexterm>
            <primary>ISQL</primary>
            <secondary>HELP</secondary>
            <tertiary>HELP SET</tertiary>
        </indexterm>
        <para>Большинство из этих команд не имеют дальнейших уровней детализации, в то время как
            команда SET имеет. Чтобы углубиться в эти дополнительные уровни, выполните следующие
            действия: <programlisting>
SQL> HELP SET;                      
                    </programlisting>
            <screen>
<![CDATA[
Set commands:
    SET                    -- display current SET options
    SET AUTOddl            -- toggle autocommit of DDL statements
    SET BAIL               -- toggle bailing out on errors in non-interactive mode
    SET BLOB [ALL|<n>]     -- display BLOBS of subtype <n> or ALL
    SET BLOB               -- turn off BLOB display
    SET COUNT              -- toggle count of selected rows on/off
    SET MAXROWS [<n>]      -- limit select stmt to <n> rows, zero is no limit
    SET ECHO               -- toggle command echo on/off
    SET EXPLAIN            -- toggle display of query access plan in the explained form
    SET HEADING            -- toggle display of query column titles
    SET LIST               -- toggle column or table display format
    SET NAMES <csname>     -- set name of runtime character set
    SET PLAN               -- toggle display of query access plan
    SET PLANONLY           -- toggle display of query plan without executing
    SET SQL DIALECT <n>    -- set sql dialect to <n>
    SET STATs              -- toggle display of performance statistics
    SET TIME               -- toggle display of timestamp with DATE values
    SET TERM <string>      -- change statement terminator string
    SET WIDTH <col> [<n>]  -- set/unset print width to <n> for column <col>

All commands may be abbreviated to letters in CAPitals
]]>                
            </screen>
        </para>
        <para>Если вы попытаетесь углубиться в какую-либо другую команду, эффект будет точно таким
            же, как при выполнении только команды HELP.</para>
        <note>
            <para>Команда HELP SET даёт справку только по собственным командам isql. Для управляющих
                SQL операторов, таких как SET TRANSACTION или SET ROLE подсказка не будет
                выведена.</para>
        </note>
    </section>
    <section xml:id="isql-connect">
        <title>Соединение с базой данных</title>

        <indexterm>
            <primary>ISQL</primary>
            <secondary>CONNECT</secondary>
        </indexterm>

        <para>Если при запуске isql вы не указали спецификацию для подключения к базе данных, то
            будет выдана подсказка о том что необходимо соединиться с базой данных с помощью
            оператора CONNECT или создать новую базу данных с помощью оператора CREATE
            DATABASE.</para>
        <para>Оператор CONNECT не является частью DSQL и доступен только внутри ISQL, а потому не
            описан в <quote>Руководство по языку SQL Firebird</quote>. Рассмотрим его
            синтаксис.</para>
        <formalpara>
            <title>Синтаксис:</title>
            <para>
                <programlisting> 
CONNECT <replaceable>&lt;database&gt;</replaceable> 
[USER <replaceable>&lt;username&gt;</replaceable> [PASSWORD <replaceable>&lt;password&gt;</replaceable>]]
[CACHE <replaceable>&lt;cache size&gt;</replaceable>] 
[ROLE <replaceable>&lt;rolename&gt;</replaceable>]                    
                    
<replaceable>&lt;database&gt;</replaceable> ::= [<replaceable>&lt;server spec&gt;</replaceable>] {<replaceable>&lt;db_filename&gt;</replaceable> | <replaceable>&lt;db_alias&gt;</replaceable>}  
                
<replaceable>&lt;server spec&gt;</replaceable> ::= 
    <replaceable>&lt;host&gt;</replaceable>[\{<replaceable>&lt;port&gt;</replaceable> | <replaceable>&lt;service&gt;</replaceable>}]:       
  | \\<replaceable>&lt;host&gt;</replaceable>[@{<replaceable>&lt;port&gt;</replaceable> | <replaceable>&lt;service&gt;</replaceable>}]\     
  | <replaceable>&lt;protocol&gt;</replaceable>://[<replaceable>&lt;host&gt;</replaceable>[:{<replaceable>&lt;port&gt;</replaceable> | <replaceable>&lt;service&gt;</replaceable>}]/]  
                
<replaceable>&lt;protocol&gt;</replaceable> ::= inet | inet4 | inet6 | wnet | xnet                         
                    </programlisting>
            </para>
        </formalpara>
        <para>
            <table frame="all">
                <title>Параметры оператора CONNECT</title>
                <?dbfo keep-together='auto'?>
                <tgroup cols="2">
                    <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                    <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                    <thead>
                        <row valign="middle">
                            <entry align="center">Параметр</entry>
                            <entry align="center">Описание</entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry><replaceable>database</replaceable></entry>
                            <entry>Спецификация базы данных.</entry>
                        </row>
                        <row>
                            <entry><replaceable>username</replaceable></entry>
                            <entry>Имя пользователя для соединения с базой данных. Может быть
                                заключено в одинарные или двойные кавычки. Если имя пользователя
                                заключено в двойные кавычки, то оно чувствительно к
                                регистру.</entry>
                        </row>
                        <row>
                            <entry><replaceable>password</replaceable></entry>
                            <entry>Пароль пользователя для соединения с базой данных. Чувствительно
                                к регистру. Должен быть заключён в одинарный кавычки.</entry>
                        </row>
                        <row>
                            <entry><replaceable>cache size</replaceable></entry>
                            <entry>Размер страничного кеша.</entry>
                        </row>
                        <row>
                            <entry><replaceable>rolename</replaceable></entry>
                            <entry>Имя роли для соединения с базой данных. Может быть заключено в
                                одинарные или двойные кавычки. Если имя роли заключено в двойные
                                кавычки, то оно чувствительно к регистру.</entry>
                        </row>
                        <row>
                            <entry><replaceable>server spec</replaceable></entry>
                            <entry>Спецификация удалённого сервера. Включает в себя имя сервера и
                                протокол.</entry>
                        </row>
                        <row>
                            <entry><replaceable>db_filename</replaceable></entry>
                            <entry>Полный путь и имя файла базы данных, включая расширение. Имя
                                файла должно быть задано в соответствии со спецификой используемой
                                платформы.</entry>
                        </row>
                        <row>
                            <entry><replaceable>db_alias</replaceable></entry>
                            <entry>Псевдоним (alias) базы данных, присутствующий в файле
                                    <filename>databases.conf</filename></entry>
                        </row>
                        <row>
                            <entry><replaceable>host</replaceable></entry>
                            <entry>Имя сервера или IP адрес, на котором расположена база
                                данных.</entry>
                        </row>
                        <row>
                            <entry><replaceable>port</replaceable></entry>
                            <entry>Номер порта, который слушает удалённый сервер (параметр
                                    <parameter>RemoteServicePort</parameter> файла
                                    <filename>firebird.conf</filename>).</entry>
                        </row>
                        <row>
                            <entry><replaceable>service</replaceable></entry>
                            <entry>Имя сервиса. Должно совпадать со значением параметра
                                    <parameter>RemoteServiceName</parameter> файла
                                    <filename>firebird.conf</filename></entry>
                        </row>
                        <row>
                            <entry><replaceable>protocol</replaceable></entry>
                            <entry>Наименование протокола.</entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </para>
        <para>База данных может состоять из одного или нескольких файлов. Первый, основной, файл
            называется первичным, остальные файлы — вторичными. При подключении к базе данных
            необходимо указывать только путь до первичного файла базы данных.</para>

        <para>Спецификация первичного файла — имя файла базы данных и его расширение с указанием к
            нему полного пути в соответствии с правилами используемой операционной системы. </para>
        <section xml:id="isql-connect-aliasedb">
            <title>Использование псевдонимов БД</title>
            <para>Вместо полного пути к первичному файлу базы можно использовать псевдонимы
                (aliases). Псевдонимы описываются в файле <filename>databases.conf</filename> в
                формате:
                <programlisting>  
<replaceable>alias</replaceable> = <replaceable>filepath</replaceable>                    
                </programlisting>
            </para>
            <note>
                <para>Помимо указания псевдонимов для базы данных в этом файле можно задать
                    параметры уровня базы данных для каждой описываемой базы данных. Эти параметры
                    задаются в фигурных скобках сразу после объявления псевдонима. Подробнее читайте
                    в <link xmlns:xlink="http://www.w3.org/1999/xlink" linkend="config-perdb"
                        >Параметры уровня базы данных</link></para>
            </note>
        </section>
        <section xml:id="isql-connect-remotely">
            <title>Соединение с БД на удалённом сервере</title>
            <para>При соединении с базой данных на удалённом сервере необходимо указать спецификацию
                удалённого сервера. Спецификация удалённого сервера зависит от используемого
                протокола. </para>
            <para>Если вы при соединении с базой данных используете протокол TCP/IP, то спецификация
                первичного файла должна выглядеть следующим образом:
                <programlisting>  
<replaceable>host</replaceable>[/<replaceable>port</replaceable> | <replaceable>service</replaceable>]:{<replaceable>filepath</replaceable> | <replaceable>db_alias</replaceable>}                   
                </programlisting>
            </para>
            <para>Если вы при соединении с базой данных используете протокол под названием
                именованные каналы (Name Pipes), то спецификация первичного файла должна выглядеть
                следующим образом.
                <programlisting>  
\\<replaceable>host</replaceable>[@<replaceable>port</replaceable> | <replaceable>service</replaceable>]\{<replaceable>filepath</replaceable> | <replaceable>db_alias</replaceable>}                   
                </programlisting>
            </para>
            <para>Существует также унифицированный URL-подобный синтаксис спецификации удалённого
                сервера. В этом синтаксисе первым параметром указывается наименование протокола,
                далее указывается имя сервера или IP адрес, номер порта и путь к первичному файлу
                базы данных или псевдоним. В качестве протокола можно указать следующие значения:<itemizedlist>
                    <listitem>
                        <para>INET — TCP/IP (сначала пробует подключится по протоколу TCP/IP v6,
                            если не получилось, то TCP/IP v4);</para>
                    </listitem>
                    <listitem>
                        <para>INET4 — TCP/IP v4 (начиная с 3.0.1);</para>
                    </listitem>
                    <listitem>
                        <para>INET6 — TCP/IP v6 (начиная с 3.0.1);</para>
                    </listitem>
                    <listitem>
                        <para>WNET — NetBEUI или протокол именованных каналов;</para>
                    </listitem>
                    <listitem>
                        <para>XNET — локальный протокол.</para>
                    </listitem>
                </itemizedlist>
                <programlisting>  
<replaceable>protocol</replaceable>://[<replaceable>host</replaceable>[:<replaceable>port</replaceable> | <replaceable>service</replaceable>]/]{<replaceable>filepath</replaceable> | <replaceable>db_alias</replaceable>}                   
                </programlisting>
            </para>
        </section>
        <section xml:id="isql-connect-user">
            <title>Имя пользователя, пароль и роль</title>

            <para>Необязательные предложения <database>USER</database> и
                    <database>PASSWORD</database> задают, соответственно, имя и пароль пользователя
                присутствующего в базе данных безопасности (<filename>security3.fdb</filename> или
                той, что указана в параметре <parameter>SecurityDatabase</parameter>). Пользователя
                и пароль можно не указывать, если установлены переменные окружения
                    <envar>ISC_USER</envar> и <envar>ISC_PASSWORD</envar>. Их также можно не
                указывать при использовании доверительной аутентификации.</para>

            <para>Если подключение происходит к embedded версии сервера, то достаточно указать
                только имя пользователя (проверка пароля не производится).</para>

            <para>Необязательное предложение ROLE задаёт имя роли, права которой будут учитываться
                при подключении базы данных. Роль должна быть назначена пользователю в
                соответствующей базе данных безопасности. </para>
        </section>
        <section xml:id="isql-connect-charset">
            <title>Набор символов</title>

            <para>Команда CONNECT не позволяет указать набор символов для подключения, однако вы
                можете это сделать с помощью команды SET NAMES, которую необходимо ввести до
                использования CONNECT.</para>
        </section>
        <section xml:id="isql-connect-examples">
            <title>Примеры</title>

            <example>
                <title>Подключение к локальной (embedded) базе данных</title>

                <para>В следующем примере происходит подключение к базе данных в embedded варианте с
                    использованием имени пользователя из переменной среды <envar>ISC_USER</envar>.
                    <programlisting>
SQL> CONNECT "C:\DATABASES\FIREBIRD\MY_EMPLOYEE.FDB";                    
                </programlisting>
                </para>
                <para>В Linux это будет выглядеть следующим образом:
                    <programlisting>
SQL> CONNECT "/databases/firebird/MY_EMPLOYEE.FDB";                  
                </programlisting>
                </para>
                <para>При использовании псевдонимов, настроенных в
                        <filename>databases.conf</filename>:
                    <programlisting>
SQL> CONNECT MY_EMPLOYEE;                  
                </programlisting>
                </para>
                <para>Если переменная окружения <envar>ISC_USER</envar> не задана, или требуется
                    указать другого пользователя, то необходимо использовать предложение USER:
                    <programlisting>
SQL> CONNECT MY_EMPLOYEE USER SYSDBA;                  
                </programlisting>
                </para>
            </example>
            <example>
                <title>Подключение к локальной (не embedded) базе данных</title>

                <para>На Windows можно использовать локальный протокол XNET
                    <programlisting>
SQL> CONNECT xnet://MY_EMPLOYEE USER SYSDBA PASSWORD 'masterkey';                  
                </programlisting>
                </para>

                <para>Во всех операционных системах через TCP
                    <programlisting>
SQL> CONNECT inet://localhost/MY_EMPLOYEE USER SYSDBA PASSWORD 'masterkey';                  
                </programlisting>
                </para>
            </example>
            <example>
                <title>Подключение к удалённой базе данных с ролью RDB$ADMIN</title>

                <para>
                    <programlisting>
SQL> CONNECT inet://dbserver/MY_EMPLOYEE USER BOB PASSWORD 'W45xs' ROLE RDB$ADMIN;                  
                </programlisting>
                </para>
            </example>
            <example>
                <title>Подключение к удалённой базе данных с набором символов WIN1251</title>

                <para>
                    <programlisting>
SQL> SET NAMES WIN1251;                        
SQL> CONNECT inet://dbserver/MY_EMPLOYEE USER BOB PASSWORD 'W45xs';                  
                </programlisting>
                </para>
            </example>
        </section>
    </section>
    <section xml:id="isql-create_db">
        <title>Создание базы данных</title>
        <indexterm>
            <primary>ISQL</primary>
            <secondary>CREATE DATABASE</secondary>
        </indexterm>

        <para>Если при запуске isql вы не указали спецификацию для подключения к базе данных, то
            будет выдана подсказка о том что необходимо соединиться с базой данных с помощью
            оператора CONNECT или создать новую базу данных с помощью оператора CREATE
            DATABASE.</para>
        <para>Оператор CREATE DATABASE является частью DSQL и подробно описан в <quote>Руководство
                по языку SQL Firebird</quote>, поэтому здесь будет приведён только краткий синтаксис
            и примеры использования. </para>
        <formalpara>
            <title>Синтаксис:</title>
            <para>
                <programlisting>                     
CREATE {DATABASE | SCHEMA} '<replaceable>&lt;filespec&gt;</replaceable>'
  [USER <replaceable>username</replaceable> [PASSWORD '<replaceable>password</replaceable>'] [ROLE <replaceable>rolename</replaceable>]]
  [PAGE_SIZE [=] <replaceable>size</replaceable>]
  [LENGTH [=] <replaceable>num</replaceable> [PAGE[S]]
  [SET NAMES '<replaceable>charset</replaceable>']
  [DEFAULT CHARACTER SET <replaceable>default_charset</replaceable>
  [COLLATION <replaceable>collation</replaceable>]]
  [<replaceable>&lt;sec_file&gt;</replaceable> [<replaceable>&lt;sec_file&gt;</replaceable> ...]]
  [DIFFERENCE FILE '<replaceable>diff_file</replaceable>'];

<replaceable>&lt;filespec&gt;</replaceable> ::= [<replaceable>&lt;server_spec&gt;</replaceable>]{<replaceable>filepath</replaceable> | <replaceable>db_alias</replaceable>}

<replaceable>&lt;server_spec&gt;</replaceable> ::= 
    <replaceable>host</replaceable>[\<replaceable>port</replaceable> | <replaceable>service</replaceable>]: 
  | \\<replaceable>host</replaceable>[@<replaceable>port</replaceable> | <replaceable>service</replaceable>]\ 
  | <replaceable>&lt;protocol&gt;</replaceable>://[<replaceable>host</replaceable>[:<replaceable>port</replaceable> | <replaceable>service</replaceable>]/]

<replaceable>&lt;protocol&gt;</replaceable> = inet | inet4 | inet6 | wnet | xnet

<replaceable>&lt;sec_file&gt;</replaceable> ::= FILE '<replaceable>filepath</replaceable>'
  [LENGTH [=] <replaceable>num</replaceable> [PAGE[S]] [STARTING [AT [PAGE]] <replaceable>pagenum</replaceable>]              
                  
</programlisting>
            </para>
        </formalpara>
        <para>В следующем примере будет создана база данных <filename>monkey.fdb</filename> и
            сохранена в директории <filename>test</filename> на диске <filename>С</filename>.
            <programlisting>
SQL>CREATE DATABASE 'C:\test\monkey.fdb' page_size 8192
CON>user 'SYSDBA' password 'masterkey';            
        </programlisting>
        </para>

        <note>
            <para>Путь к базе данных и пароль обязательно должны быть заключены в одинарные или
                двойные кавычки. Для имени пользователя, пароля и набора символов кавычки
                необязательны. При использовании двойных кавычек буду использованы правила
                3-диалекта, т.е. имя пользователя, роли и набора символов будут чувствительны к
                регистру символов.</para>
            <para>Поскольку база данных создаётся в режиме embedded сервера, то файл базы данных
                будет создан с именем входа в систему в качестве владельца. Это может вызвать
                проблемы с доступом к файлу базы данных для других пользователей, особенно в Linux,
                которые могут захотеть подключится позднее. Если база данных создаётся с
                использованием сетевого или локального (Windows) протокола, то файл базы данных
                будет создан от имени пользователя службы (в Linux это пользователь
                firebird).</para>
        </note>

        <para>В данном случае база данных будет создана с использованием embedded версии Firebird.
            Для использования сетевых протоколов вы можете использовать префиксы протоколов или
            другие правила аналогичные правила для оператора CONNECT. </para>

        <example>
            <title>Создание базы данных на удалённом сервере</title>

            <para>Создание базы данных на удалённом сервере baseserver расположенном по пути, на
                который ссылается псевдоним test, описанный в файле
                    <filename>databases.conf</filename>. Используется протокол TCP. Владельцем базы
                данных будет пользователь wizard.
                <programlisting language="sql">  
CREATE DATABASE 'baseserver:test'
USER wizard PASSWORD 'player' ROLE RDB$ADMIN
DEFAULT CHARACTER SET UTF8;                 
</programlisting>
                То же самое с использованием унифицированного URL-подобного синтаксиса задания
                спецификации удалённого сервера.
                <programlisting language="sql">  
CREATE DATABASE 'inet://baseserver:3050/test'
USER wizard PASSWORD 'player' ROLE RDB$ADMIN
DEFAULT CHARACTER SET UTF8;                 
</programlisting>
                или
                <programlisting language="sql">  
CREATE DATABASE 'inet://baseserver:gds_db/test'
USER wizard PASSWORD 'player' ROLE RDB$ADMIN
DEFAULT CHARACTER SET UTF8;                 
</programlisting>
                Начиная с Firebird 3.0.1 можно указать какой именно из протоколов IP v4 или IP v6 вы
                хотите использовать.
                <programlisting language="sql">  
CREATE DATABASE 'inet4://baseserver/test'
USER wizard PASSWORD 'player' ROLE RDB$ADMIN
DEFAULT CHARACTER SET UTF8;                 
</programlisting>
                или
                <programlisting language="sql">  
CREATE DATABASE 'inet6://baseserver/test'
USER wizard PASSWORD 'player' ROLE RDB$ADMIN
DEFAULT CHARACTER SET UTF8;                 
</programlisting>
                Создание базы данных с указанием IP адреса (IPv4) вместо указания имени сервера.
                <programlisting language="sql">  
CREATE DATABASE '127:0:0:1:test'
USER wizard PASSWORD 'player' ROLE RDB$ADMIN
DEFAULT CHARACTER SET UTF8;                 
</programlisting>
                Создание базы данных с указанием IP адреса (IPv6) вместо указания имени сервера.
                <programlisting language="sql">  
CREATE DATABASE '[::1]:test'
USER wizard PASSWORD 'player' ROLE RDB$ADMIN
DEFAULT CHARACTER SET UTF8;                 
</programlisting>
            </para>
        </example>

        <note>
            <para>В отличие от оператора CONNECT в операторе CREATE DATABASE вы сразу можете указать
                набор символов, который будет использован в подключении после выполнения оператора
                CREATE DATABASE с помощью предложения SET NAMES.</para>
        </note>

        <para>После создания базы данных вы можете выполнять к ней запросы в интерактивном режиме.
            <programlisting>
SQL>SELECT RDB$RELATION_ID FROM RDB$DATABASE;

RDB$RELATION_ID
===============
128

SQL> commit;            
        </programlisting>
        </para>
        <para>Чтобы вернуться в командную строку введите команду <code>exit</code> или
                <code>quit</code>.</para>

        <note>
            <para>Вышеуказанная методика, как показано, работает, но в идеале базы данных и объекты
                метаданных должны создаваться и поддерживаться с использованием сценариев
                определения данных. </para>
        </note>
    </section>

    <section xml:id="isql-env">
        <title>Установка переменных окружения ISC_USER и ISC_PASSWORD </title>

        <para>Переменная среды — это именованный объект, который содержит информацию, используемую
            одним или несколькими приложениями. Они глобальны для своих конкретных операционных
            систем. Сервер Firebird распознает и использует определенные переменные среды,
            настроенные в Windows, Linux и других системах Unix.</para>

        <para>Переменные среды <envar>ISC_USER</envar> и <envar>ISC_PASSWORD</envar> в Firebird
            предназначены для предоставления SYSDBA доступа к базе данных из служебных программ
            командной строки и клиентских приложений всем, кто имеет доступ к хост-машине.</para>

        <caution>
            <para>При запуске таких утилит командной строки, как <application>isql</application>,
                    <application>gbak</application>, <application>gstat</application> и
                    <application>gfix</application>, Firebird будет искать, установлены ли
                переменные среды <envar>ISC_USER</envar> и <envar>ISC_PASSWORD</envar>. Если вы не
                предоставите имя пользователя и пароль при локальном подключении к базе данных,
                Firebird позволит вам войти в систему, если найдет эти переменные.</para>
            <para>Из соображений безопасности не рекомендуется указывать имя пользователя и пароль
                SYSDBA с использованием этих двух переменных среды, особенно на незащищенном
                компьютере.</para>
        </caution>

        <para>Переменные среды <envar>ISC_USER</envar> и <envar>ISC_PASSWORD</envar> могут быть
            установлены для локального запуска <application>isql</application>. Чтобы установить
            переменные среды:<itemizedlist>
                <listitem>
                    <para>В Windows это делается в Панели управления -> Система -> Дополнительно ->
                        Переменные среды. Любые изменения, сделанные здесь, будут постоянными. Вы
                        также можете определить эти переменные в командном окне до запуска любой из
                        утилит Firebird, например isql. Например:
                        <programlisting>
C:\> set ISC_USER=sysdba
C:\> set ISC_PASSWORD=secret
C:\> isql my_employee

SQL>                        
                    </programlisting>
                    </para>
                </listitem>
                <listitem>
                    <para>На платформах Linux и Unix это зависит от типа используемой оболочки и от
                        конфигурации настольного компьютера. Обратитесь к документации вашей
                        операционной системы, чтобы установить переменные среды. Для оболочки bash
                        этот процесс показан в следующем примере:
                        <programlisting>
cosmos> export ISC_USER=sysdba
cosmos> export ISC_PASSWORD=secret
cosmos> /opt/firebird/bin/isql my_employee

SQL>                        
                    </programlisting>
                    </para>
                </listitem>
            </itemizedlist></para>
    </section>

    <section xml:id="isql-sql_dialect">
        <title>SQL диалект</title>
        <para>Firebird поддерживает три диалекта SQL на каждом клиенте и сервере базы данных. Эти
            диалекты SQL различаются в контексте формата даты и времени и точности числового типа
            данных. Диалекты служат для инструктирования сервера Firebird о том, как обрабатывать
            функции, реализованные в устаревших базах данных Borland Interbase, более ранних, чем
            версия 6.0. Диалекты устанавливаются во время выполнения и могут быть изменены для
            клиента во время подключения или с помощью команды SET SQL DIALECT.</para>

        <note>
            <para>Диалект 2 используется только при преобразовании базы данных диалекта 1 в базу
                данных диалекта 3.</para>
        </note>

        <para>Следующая таблица демонстрирует некоторые различия между диалектами. <table
                frame="all">
                <title>Различия между SQL диалектами</title>
                <tgroup cols="4">
                    <colspec colname="c1" colnum="1" colwidth="1*"/>
                    <colspec colname="c2" colnum="2" colwidth="1*"/>
                    <colspec colname="c3" colnum="3" colwidth="1*"/>
                    <colspec colname="c4" colnum="4" colwidth="1*"/>
                    <thead>
                        <row>
                            <entry>SQL</entry>
                            <entry>Dialect 1</entry>
                            <entry>Dialect 2</entry>
                            <entry>Dialect 3</entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry>Тип данных DATE</entry>
                            <entry>Дата + время (Timestamp)</entry>
                            <entry>Сообщение об ошибке</entry>
                            <entry>Только дата</entry>
                        </row>
                        <row>
                            <entry>Тип данных TIMSTAMP</entry>
                            <entry>Timestamp</entry>
                            <entry>Timestamp</entry>
                            <entry>Timestamp</entry>
                        </row>
                        <row>
                            <entry>Тип данных TIME</entry>
                            <entry>Сообщение об ошибке</entry>
                            <entry>Сообщение об ошибке</entry>
                            <entry>Только время</entry>
                        </row>
                        <row>
                            <entry>Идентификаторы с разделителями (квотированные идентификаторы)
                                    "<replaceable>&lt;identifier&gt;</replaceable>"</entry>
                            <entry>Строка</entry>
                            <entry>Сообщение об ошибки</entry>
                            <entry>Идентификатор</entry>
                        </row>
                        <row>
                            <entry>Точность арифметических операций. Например 1/3</entry>
                            <entry>0.3333333... (double precision)</entry>
                            <entry>0</entry>
                            <entry>0 (по правилам целочисленного деления)</entry>
                        </row>
                        <row>
                            <entry>Представление NUMERIC и DECIMAL с точностью больше 10</entry>
                            <entry>double precision</entry>
                            <entry>64-битное целое</entry>
                            <entry>64-битное целое (BIGINT)</entry>
                        </row>
                    </tbody>
                </tgroup>
            </table></para>

        <note>
            <para>В настоящее время возможно создание баз данных только на диалекте 1 и 3, однако
                рекомендуется использовать исключительно диалект 3, поскольку в конечном итоге
                диалект 1 будет устаревшим. Диалект 2 нельзя использовать для создания базы данных,
                поскольку он служит только для преобразования Диалекта 1 в Диалект 3.</para>
        </note>

        <para>При подключении к базе данных с использованием <application>isql</application> утилита
            использует диалект базы данных, если не указано иное. Диалекты не могут быть установлены
            в качестве параметра оператора <code>CREATE DATABASE</code>. Таким образом, при создании
            базы данных с использованием <application>isql</application> база данных будет на
            диалекте, который является текущим в <application>isql</application> во время выполнения
            оператора <code>CREATE DATABASE</code>. Вы можете установить диалект с помощью утилиты
                <application>isql</application> двумя способами:<itemizedlist>
                <listitem>
                    <para>При старте isql укажите диалект с использованием переключателя
                        -sql_dialect
                        <programlisting>
cosmos> isql -sql_dialect 3                        
                    </programlisting>
                    </para>
                </listitem>
                <listitem>
                    <para>Внутри sql скрипта или в isql сессии с помощью команды <code>SET SQL
                            DIALECT</code>
                        <programlisting>
SQL> SET SQL DIALECT 3;                       
                    </programlisting>
                    </para>
                </listitem>
            </itemizedlist></para>
    </section>

    <section xml:id="isql-terminator">
        <title>Символ терминатора</title>

        <para>Символом терминатором по умолчанию для базы данных Firebird является точка с запятой
                <quote>;</quote>. Операторы будут только выполнены если они заканчиваются точкой с
            запятой. Однако вы можете использовать <application>isql</application> для изменения
            символа на любой печатный символ или несколько символов из первых 127 символов
            подмножества ASCII с помощью команды <code>SET TERM</code>.</para>

        <note>
            <para>Терминатор по умолчанию может быть изменен во всех случаях, за исключением
                Procedural SQL или PSQL. PSQL не принимает никаких терминаторов, кроме точки с
                запятой.</para>
        </note>

        <para>Для изменения символа терминатора на тильду <quote>~</quote> введите следующую
            команду: <programlisting>
    SQL> SET TERM ~ ;        
        </programlisting>
        </para>

        <para>Для возврата терминатора, вы должны использовать текущий терминатор! Изменение
            терминатора полезно, если вы хотите ввести функцию PSQL, как показано в следующем
            примере. Поскольку PSQL будет принимать только точку с запятой в качестве терминатора,
            isql должен знать, какая точка с запятой используется для кода PSQL, а какая
            используется для завершения вводимых команд SQL.
            <programlisting>
SQL> set term ~ ;

SQL> create procedure test_proc (iInput integer = 666)
CON> returns (oOutput integer)
CON> as
CON> begin
CON>   oOutput = iInput;
CON>   suspend;
CON> end~

SQL> set term ; ~

SQL> commit;

SQL> select * from test_proc;

     OOUTPUT
============
         666            
        </programlisting>
        </para>

        <para>Вы можете видеть, что внутри кода самой процедуры терминатором является точка с
            запятой. Однако вне фактического кода процедуры терминатором является тильда (~).
                <application>isql</application> обрабатывает одну команду <code>CREATE
                PROCEDURE</code>, но внутри этого одного оператора SQL есть несколько встроенных
            операторов PSQL:
            <programlisting>
oOutput = iInput;
suspend;                
            </programlisting>
        </para>

        <para>Они имеют точку с запятой, как того требует PSQL. Конец команды CREATE PROCEDURE
            обозначается использованием тильды в качестве терминатора:
            <programlisting>
end~               
            </programlisting>
        </para>

        <para>При желании вы можете просто изменить терминатор, потому что вы предпочитаете что-то
            другое, а не точку с запятой.
            <programlisting>
SQL> -- Change terminator from ; to +
SQL> set term + ;

SQL> select count(*) from employee+

       COUNT
============
          42

SQL> -- Change terminator from + to 'fred'
SQL> set term fred +

SQL> select count(*) from employee fred

       COUNT
============
          42

SQL> -- Change back from 'fred' to ;
SQL> set term ; fred
            </programlisting>
        </para>

        <para>Однако вы должны быть осторожны, чтобы не выбрать символ-терминатор, который приведет
            к сбою операторов SQL из-за того, что терминатор используется в какой-то момент в
            операторе SQL.
            <programlisting>
SQL> select 600+60+6 as The_Beast from rdb$database;

THE_BEAST
=====================
666

SQL> set term + ;
SQL> select 600+60+6 as The_Beast from rdb$database+

Statement failed, SQLSTATE = 42000
Dynamic SQL Error
-SQL error code = -104
-Unexpected end of command - line 1, column 8
...

SQL> set term ; +                
            </programlisting>
        </para>

        <para>Присутствие терминатора в выражении вызвало ошибку <quote>Unexpected end of
                command</quote>. Анализатор SQL в ядре базы данных Firebird определил, что
                <code>select 600</code> не является допустимым оператором. По этой причине лучше
            всегда выбирать символ или символы, которые не будут путать синтаксический анализатор.
            <programlisting>
SQL> set term !! ;

SQL> select 600+60+6 as The_Beast from rdb$database!!

THE_BEAST
=====================
666              
            </programlisting>
        </para>
    </section>

    <section xml:id="isql-prompts">
        <title>Подсказки ISQL</title>

        <formalpara>
            <title>Подсказка SQL</title>

            <para>Как показано выше, обычная подсказка <application>isql</application> для ввода —
                это подсказка <code>SQL></code>. Это указывает на то, что предыдущая команда была
                выполнена, и теперь <application>isql</application> ожидает обработки новой
                команды.</para>
        </formalpara>

        <formalpara>
            <title>Подсказка CON</title>

            <para>Подсказка <code>CON></code> отображается, если пользователь нажимает клавишу ENTER
                без завершения оператора SQL с помощью терминатора. Например:
                <programlisting>
SQL> HELP
CON>                
            </programlisting>
            </para>
        </formalpara>

        <para>Всякий раз, когда вы видите приглашение <code>CON></code>, вы можете либо продолжить
            ввод оставшейся части команды, либо ввести терминатор для завершения команды. В
            последнем случае команда будет выполнена после нажатия клавиши ENTER.</para>
    </section>

    <section xml:id="isql-errors">
        <title>Обработка ошибок и поддержка исключений</title>

        <para>Обработка исключений — это программная конструкция, предназначенная для обработки
            ситуаций, которые нарушает нормальное выполнение программы. Это так называемые ошибки.
            Исключением являются именованное сообщение об ошибке, определяемые пользователем,
            написанные специально для базы данных и сохраненные в этой базе данных для использования
            в хранимых процедурах, функциях, пакетах, анонимных блоках и триггерах.</para>
        <para>Например, если в триггере обнаруживается, что значение для таблицы неверно, то
            возникает исключение. Это приводит к откату всей транзакции, которую клиентское
            приложение пытается зафиксировать. Исключения могут совместно использоваться различными
            модулями приложения и даже различными приложениями, совместно использующими базу данных.
            Они предоставляют простой способ стандартизировать обработку заранее запрограммированных
            ошибок ввода.</para>
        <para>Исключения составляют объекты базы данных, такие как таблицы, представления и домены,
            и являются частью метаданных базы данных. Их можно создавать, изменять и удалять, как и
            все другие объекты Firebird, используя <application>isql</application>.</para>
        <para>В <application>isql</application> сообщения об ошибках содержат переменную SQLSTATE и
            статус вектор Firebird. Расшифровку кодов ошибок SQLSTATE вы можете найти в "Руководстве
            по языку SQL СУБД Firebird".</para>
        <example>
            <title>Сообщение об ошибке в isql</title>

            <para>
                <programlisting>
<![CDATA[
SQL> select 1/0 from rdb$database;

               DIVIDE
=====================
Statement failed, SQLSTATE = 22012
arithmetic exception, numeric overflow, or string truncation
-Integer divide by zero.  The code attempted to divide an integer value by an integer divisor of zero.
]]>                    
                </programlisting>
            </para>
        </example>
    </section>

    <section xml:id="isql-transactions">
        <title>Обработка транзакций</title>

        <para>В <application>isql</application> транзакция начинается сразу после запуска утилиты.
            Транзакция начинается в изоляции SNAPSHOT с разрешением блокировки в режиме WAIT.
            Поскольку утилита Firebird <application>isql</application> принимает DDL, DML и другие
            команды, транзакции обрабатываются соответствующим образом следующими способами: <itemizedlist>
                <listitem>
                    <para>Операторы DDL фиксируются автоматически в двух случаях:<itemizedlist>
                            <listitem>
                                <para>Когда операторы COMMIT включен в скрипт.</para>
                            </listitem>
                            <listitem>
                                <para>Когда включена автоматическая фиксация транзакций для DDL
                                    операторов (режим по умолчанию). В этом случае выполнение
                                    каждого DDL оператора транзакция автоматически подтверждается
                                    после ввода каждого оператора DDL, и стартует новая транзакция.
                                    Чтобы отключить режим автоматической фиксации, выполните
                                    инструкцию <code>SET AUTODDL OFF</code>. Для возврата в режим
                                    автоматической фиксации для DDL операторов выполните инструкцию
                                        <code>SET AUTODDL ON</code>.</para>
                            </listitem>
                        </itemizedlist></para>
                </listitem>
                <listitem>
                    <para>Операторы DML для выборки или изменения данных стартуют новую транзакцию с
                        уровнем изоляции SNAPSHOT, если она не была начата ранее. Такая транзакция
                        будет активной до тех пор, пока не будет вручную подтверждена оператором
                        COMMIT или отменена оператором ROLLBACK. </para>
                </listitem>
                <listitem>
                    <para>Вы можете использовать различные команды SHOW в isql для запроса
                        метаданных базы данных. При этом ISQL запускает транзакцию с уровнем
                        изоляции READ COMMITED, что дает возможность видеть все изменения
                        метаданных, подтвержденные другими пользователями. </para>
                </listitem>
            </itemizedlist></para>

        <para>Пользователи могут указать уровень изоляции и другие параметры для следующей
            транзакции с помощью оператора <code>SET TRANSACTION</code>. Он может быть выполнен
            только тогда, когда не активна другая транзакция. В противном случае будет задан вопрос:
            подтвердить или откатить активную транзакцию. Синтаксис оператора <code>SET
                TRANSACTION</code> подробно описан в <quote>Руководство по языку SQL
                Firebird</quote>.</para>

        <example>
            <title>Старт транзакции с режимом изолированности READ COMMITED</title>

            <para>
                <programlisting language="sql">
SET TRANSACTION WAIT READ COMMITTED LOCK TIMEOUT 10;                    
                </programlisting>
            </para>
        </example>

        <note>
            <para>Поскольку оператор <code>SET TRANSACTION</code> является оператором DSQL, а не
                собственной командой <application>isql</application>, то информация о нём
                отсутствует в справке выдаваемой оператором <code>HELP SET</code>.</para>
        </note>
    </section>

    <section xml:id="isql-script_handling">
        <title>Обработка скрипта</title>

        <para>Пакет операторов DDL и/или DML в текстовом файле называется сценарием (скриптом).
            Скрипты могут быть использованы для создания и изменения объектов базы данных
            (метаданных). Они называются сценариями языка определения данных (DDL). Скрипты, которые
            манипулируют данными путем выбора, вставки, обновления, удаления или выполнения
            преобразований данных, называются скриптами языка манипулирования данными (DML).</para>

        <para> Одной из наиболее важных задач, выполняемых <application>isql</application>, является
            обработка скриптов. Он может обрабатывать как сценарии DDL, так и сценарии DML. Большие
            файлы сценариев можно разбить на несколько файлов скриптов поменьше с помощью инструкции
            INPUT. </para>

        <formalpara>
            <title>Синтаксис:</title>
            <para>
                <programlisting> 
INPUT <replaceable>&lt;filespec&gt;</replaceable>                      
                    </programlisting>
            </para>
        </formalpara>

        <para>Данный оператор позволяет включить один файл сценария внутрь другого. Операторы
            сценариев выполняются в том порядке, в котором они появляются в файле сценариев.
            Настройка по умолчанию в <application>isql</application> для AUTODDL установлена на ON.
            Вы можете использовать команду <code>SET AUTODDL</code>, чтобы контролировать, где или
            когда будут подтверждены операторы изменения метаданных. </para>

        <note>
            <para>Параметр AUTODDL влияет только на операторы DDL. Он не фиксирует транзакцию для
                операторов DML. Если вы смешиваете инструкции DDL и DML в одном и том же
                интерактивном сеансе, то фиксации транзакций для DDL с помощью AUTODDL не фиксируют
                ваши транзакции для операторов DML. Например:
                <programlisting>
SQL> set autoddl on;

SQL> insert into test(a) values (666);
SQL> commit;

SQL> select * from test;

A
============
666

SQL> insert into test(a) values (999);
SQL> select * from test;

A
============
666
999

SQL> create table another_test(b integer);
SQL> rollback;

SQL> select * from test;

A
============
666                
            </programlisting>
            </para>
        </note>

        <para>Скрипты могут перенаправить свои выходные данные в файл журнала с помощью команды
                <code>OUTPUT <replaceable>&lt;file_name&gt;</replaceable></code>. Это можно ввести
            непосредственно в приглашении <application>isql</application> или как часть самого файла
            скрипта. </para>
    </section>

    <section xml:id="isql-commands">
        <title>ISQL команды</title>

        <para>Команды Isql влияют на работу самого isql и никак не влияют на базу данных или данные.
            Эти команды используются для отображения справки, чтения, записи и запуска сценариев, а
            также выполнение инструкций командной строки. Вы можете легко увидеть список доступных
            команд, набрав команду HELP, которая выдаст следующий вывод: <screen>
<![CDATA[
SQL> HELP;
Frontend commands:
BLOBDUMP <blobid> <file>   -- dump BLOB to a file
BLOBVIEW <blobid>          -- view BLOB in text editor
EDIT     [<filename>]      -- edit SQL script file and execute
EDIT                       -- edit current command buffer and execute
HELP                       -- display this menu
INput    <filename>        -- take input from the named SQL file
OUTput   [<filename>]      -- write output to named file
OUTput                     -- return output to stdout
SET      <option>          -- (Use HELP SET for complete list)
SHELL    <command>         -- execute Operating System command in sub-shell
SHOW     <object> [<name>] -- display system information
    <object> = CHECK, COLLATION, DATABASE, DOMAIN, EXCEPTION, FILTER, FUNCTION,
               GENERATOR, GRANT, INDEX, PACKAGE, PROCEDURE, ROLE, SQL DIALECT,
               SYSTEM, TABLE, TRIGGER, VERSION, USERS, VIEW
EXIT                       -- exit and commit changes
QUIT                       -- exit and roll back changes

All commands may be abbreviated to letters in CAPitals
]]>            
        </screen>
        </para>

        <para>Теперь обсудим каждую из команд отдельно.</para>

        <note>
            <para>Обратите внимание на последнюю строку вывода команды help. Это объясняет, что
                каждая из команд может быть сокращена до букв, отображаемых заглавными буквами. В
                следующем обсуждении дополнительные символы будут отображаться, как указано выше,
                строчными буквами. Например, команда ввода будет показана как INput, чтобы указать,
                что символы 'put' являются необязательными.</para>
        </note>

        <section xml:id="isql-commands-blobdump">
            <title>BLOBDUMP</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>BLOBDUMP</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Сохранение данных BLOB в указанном файле.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
BLOBDUMP <replaceable>&lt;blob_id&gt;</replaceable> <replaceable>&lt;filename&gt;</replaceable>                      
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора BLOBDUMP</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>blob_id</replaceable></entry>
                                <entry>
                                    <para>BLOB идентификатор.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>filename</replaceable></entry>
                                <entry>
                                    <para>Имя файла в который необходимо сохранить BLOB.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>
            <para>Эта команда позволяет вам скопировать BLOB из базы данных во внешний файл.
                Оператор BLOBDUMP требует два параметра, идентификатор BLOB-объекта и имя файла. Вам
                необходимо передать идентификатор BLOB-объекта в виде пары шестнадцатеричных чисел,
                разделенных двоеточием. Первое число — это идентификатор таблицы, а второе —
                последовательный номер в базе данных. Для получения этого идентификатора выполните
                любой оператор SELECT, который выбирает столбец BLOB. Вывод покажет
                шестнадцатеричный идентификатор BLOB выше или на месте столбца BLOB в зависимости от
                того, установлен ли SET BLOBDISPLAY в ON или OFF.</para>

            <example>
                <title>Сохранение BLOB во внешний файл</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> set blobdisplay off;

SQL> select proj_id, proj_desc
CON> from project
CON> where proj_id = 'MKTPR';

PROJ_ID PROJ_DESC
======= =================
MKTPR   85:10

SQL> blobdump 85:10 c:\project.jpg;
]]>                        
                    </programlisting>
                </para>
            </example>

            <para>Идентификатор BLOB-объекта, необходимый в приведенном выше примере, равен
                85:10.</para>

            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-commands_set-set_blob">SET BLOBDISPLAY</link>, <link
                        linkend="isql-commands-blobview">BLOBVIEW</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands-blobview">
            <title>BLOBVIEW</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>BLOBVIEW</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение данных BLOB в текстовом редакторе по умолчанию.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
BLOBVIEW <replaceable>&lt;blob_id&gt;</replaceable>                      
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора BLOBVIEW</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>blob_id</replaceable></entry>
                                <entry>
                                    <para>BLOB идентификатор.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда BLOBVIEW отображает данные BLOB в текстовом редакторе по умолчанию. </para>

            <example>
                <title>Открытие BLOB во внешнем текстовом редакторе</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> set blobdisplay off;

SQL> select proj_id, proj_desc
CON> from project
CON> where proj_id = 'MKTPR';

PROJ_ID PROJ_DESC
======= =================
MKTPR   85:10

SQL> blobview 85:10;
]]>                        
                    </programlisting>
                </para>
            </example>

            <para>В примере выше содержимое выбранного BLOB будет отображено во внешнем редакторе.
                Когда редактор закрыт, управление возвращается в <application>isql</application>. Вы
                не можете использовать <application>isql</application>, пока редактор открыт.</para>

            <note>
                <para>BLOBVIEW может вернуть ошибку <quote>Invalid transaction handle</quote> после
                    закрытия редактора. Для исправления ситуации запустите транзакцию вручную с
                    помощью команды <code>SET TRANSACTION</code>.</para>
            </note>

            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-commands-blobdump">BLOBDUMP</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands-edit">
            <title>EDIT</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>EDIT</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Вызов текстового редактора по умолчанию для скрипта.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
EDIT [<replaceable>&lt;filename&gt;</replaceable>]                      
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора EDIT</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>filename</replaceable></entry>
                                <entry>
                                    <para>Имя файла для редактирования.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда EDIT позволяет редактировать существующий файл. Это может быть файл команд
                SQL, который будет использоваться командой ввода <application>isql</application>
                (см. ниже), или любой другой текстовый файл. Файл должен существовать.</para>

            <para>Если имя файла не указано, история всех ваших предыдущих команд будет отображаться
                для редактирования.</para>

            <note>
                <para>Обратите внимание, что при выходе из редактора в этом случае команды,
                    оставленные в буфере в конце редактирования, будут выполняться как файл
                    сценария.</para>
            </note>
        </section>

        <section xml:id="isql-commands-help">
            <title>HELP</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>HELP</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение список команд <application>isql</application> с их
                    описанием.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
HELP [SET]                    
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда HELP отображает список основных команд <application>isql</application> с
                их описанием. <screen>
<![CDATA[
SQL> HELP;
Frontend commands:
BLOBDUMP <blobid> <file>   -- dump BLOB to a file
BLOBVIEW <blobid>          -- view BLOB in text editor
EDIT     [<filename>]      -- edit SQL script file and execute
EDIT                       -- edit current command buffer and execute
HELP                       -- display this menu
INput    <filename>        -- take input from the named SQL file
OUTput   [<filename>]      -- write output to named file
OUTput                     -- return output to stdout
SET      <option>          -- (Use HELP SET for complete list)
SHELL    <command>         -- execute Operating System command in sub-shell
SHOW     <object> [<name>] -- display system information
    <object> = CHECK, COLLATION, DATABASE, DOMAIN, EXCEPTION, FILTER, FUNCTION,
               GENERATOR, GRANT, INDEX, PACKAGE, PROCEDURE, ROLE, SQL DIALECT,
               SYSTEM, TABLE, TRIGGER, VERSION, USERS, VIEW
EXIT                       -- exit and commit changes
QUIT                       -- exit and roll back changes

All commands may be abbreviated to letters in CAPitals
]]>            
        </screen>
            </para>

            <para>Если после HELP присутствует необязательное ключевое слово SET, то будет
                отображена справка по набору команд начинающихся с SET. <screen>
<![CDATA[
SQL> help set;
Set commands:
    SET                    -- display current SET options
    SET AUTOddl            -- toggle autocommit of DDL statements
    SET BAIL               -- toggle bailing out on errors in non-interactive mode
    SET BLOB [ALL|<n>]     -- display BLOBS of subtype <n> or ALL
    SET BLOB               -- turn off BLOB display
    SET COUNT              -- toggle count of selected rows on/off
    SET MAXROWS [<n>]      -- limit select stmt to <n> rows, zero is no limit
    SET ECHO               -- toggle command echo on/off
    SET EXPLAIN            -- toggle display of query access plan in the explained form
    SET HEADING            -- toggle display of query column titles
    SET LIST               -- toggle column or table display format
    SET NAMES <csname>     -- set name of runtime character set
    SET PLAN               -- toggle display of query access plan
    SET PLANONLY           -- toggle display of query plan without executing
    SET SQL DIALECT <n>    -- set sql dialect to <n>
    SET STATs              -- toggle display of performance statistics
    SET TIME               -- toggle display of timestamp with DATE values
    SET TERM <string>      -- change statement terminator string
    SET WIDTH <col> [<n>]  -- set/unset print width to <n> for column <col>

All commands may be abbreviated to letters in CAPitals
]]>            
        </screen>
            </para>

            <note>
                <para>Обратите внимание на последнюю строку вывода команды help. Это объясняет, что
                    каждая из команд может быть сокращена до букв, отображаемых заглавными буквами.
                    В следующем обсуждении дополнительные символы будут отображаться, как указано
                    выше, строчными буквами. Например, команда ввода будет показана как INput, чтобы
                    указать, что символы 'put' являются необязательными.</para>
            </note>
        </section>

        <section xml:id="isql-commands-add">
            <title>ADD</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>ADD</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Добавление записей в таблицу.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
ADD <replaceable>&lt;tablename&gt;</replaceable>                    
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора ADD</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>tablename</replaceable></entry>
                                <entry>
                                    <para>Имя таблицы для добавления данных.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда ADD запрашивает данные для каждого столбца, указанной таблицы, и добавляет
                запись в таблицу. Вы можете добавить столько записей, сколько пожелаете, так как
                команда продолжается до тех пор, пока не произойдет ошибка или не будет нажата
                клавиша ENTER без данных. Если вы хотите установить для столбца значение NULL,
                введите его в точности так, как показано.</para>

            <example>
                <title>Добавление данных в таблицу с помощью команды ADD</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> add country;

Enter data or NULL for each column. RETURN to end.
Enter COUNTRY>Scotland
Enter CURRENCY>GBP
Enter COUNTRY>

SQL> commit;
]]>                        
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands-copy">
            <title>COPY</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>COPY</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Копирование структуры таблицы.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
COPY <replaceable>&lt;from_tablename&gt;</replaceable> <replaceable>&lt;to_tablename&gt;</replaceable> [<replaceable>&lt;other_database&gt;</replaceable>]                  
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора COPY</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>from_tablename</replaceable></entry>
                                <entry>
                                    <para>Имя таблицы из которой делается копия.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>to_tablenamee</replaceable></entry>
                                <entry>
                                    <para>Имя таблицы в которую будет сделана копия.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>other_database</replaceable></entry>
                                <entry>
                                    <para>Спецификация для подключения к другой базе данных, в
                                        которую будет производится копирование. </para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда COPY позволяет скопировать большую часть структуры таблицы в новую таблицу
                в текущей базе данных или другой. К сожалению, у неё есть проблемы: <itemizedlist>
                    <listitem>
                        <para>Она выполняет командную строку для выполнения работы и подключается к
                            принимающей базе данных с помощью приложения с именем
                                <application>isql</application>. Если ваша система переименовала
                                <filename>isql</filename> в <filename>isql-fb</filename>, вы на
                            самом деле в конечном итоге запустите неправильное приложение
                                <application>isql</application>, и единственным результатом будет
                            запутанная ошибка.</para>
                    </listitem>
                    <listitem>
                        <para>Предполагается, что <application>isql</application> будет находится в
                                <filename>$PATH</filename> или <filename>%PATH%</filename>. </para>
                    </listitem>
                    <listitem>
                        <para>Вам необходимо определить <envar>ISC_USER</envar> и
                                <envar>ISC_PASSWORD</envar> для дочернего процесса
                                <application>isql</application> для входа в получающую базу данных
                            для создания таблицы. Это очень небезопасно.</para>
                    </listitem>
                    <listitem>
                        <para>Из-за необходимости в <envar>ISC_USER</envar> и
                                <envar>ISC_PASSWORD</envar> принимающая база данных должна работать
                            на том же сервере, что и исходная база данных.</para>
                    </listitem>
                    <listitem>
                        <para>Данные таблицы не копируются в принимающую базу данных (или таблицу).
                            Копируются только следующие части структур таблицы:<itemizedlist
                                spacing="compact">
                                <listitem>
                                    <para>Домены, необходимые для воссоздания таблицы. Это
                                        применимо, только если копия находится в другой базе
                                        данных.</para>
                                </listitem>
                                <listitem>
                                    <para>Сама таблица будет создана.</para>
                                </listitem>
                                <listitem>
                                    <para>Ограничение первичного ключа, если оно есть.</para>
                                </listitem>
                            </itemizedlist></para>
                    </listitem>
                    <listitem>
                        <para>Копируется не вся структура таблицы. Отсутствуют:<itemizedlist
                                spacing="compact">
                                <listitem>
                                    <para>Ограничения внешнего ключа.</para>
                                </listitem>
                                <listitem>
                                    <para>Ограничения проверок (CHECK).</para>
                                </listitem>
                                <listitem>
                                    <para>Индексы, за исключением индекса необходимого для поддержки
                                        первичного ключа.</para>
                                </listitem>
                                <listitem>
                                    <para>Триггеры.</para>
                                </listitem>
                                <listitem>
                                    <para>Все данные таблицы.</para>
                                </listitem>
                            </itemizedlist></para>
                    </listitem>
                </itemizedlist></para>

            <para>Если вы хотите скопировать в другую базу данных, то другая база данных должна быть
                на том же сервере, что и текущая. Например, вы не можете подключиться к базе данных
                на сервере с именем tux и скопировать таблицу в базу данных, работающую на сервере
                tuxrep. Команда COPY не может передать имя пользователя и/или пароль, установка
                    <envar>ISC_USER</envar> и <envar>ISC_PASSWORD</envar> влияет сразу на все
                подключения, пользователь может отсутствовать на другом сервере или у него может
                быть другой пароль. </para>

            <example>
                <title>Копирование структуры таблицы командой COPY</title>

                <para>
                    <programlisting>
<![CDATA[
tux>$ export ISC_USER=SYSDBA
tux>$ export ISC_PASSWORD=secret
tux>$ isql employee

Database: employee, User: sysdba

SQL> -- MAke a copy of the employee table into this database.
SQL> copy employee employee_2;

SQL> -- Compare table structures...
SQL> show table employee;

EMP_NO              (EMPNO) SMALLINT Not Null
FIRST_NAME          (FIRSTNAME) VARCHAR(15) Not Null
LAST_NAME           (LASTNAME) VARCHAR(20) Not Null
PHONE_EXT           VARCHAR(4) Nullable
HIRE_DATE           TIMESTAMP Not Null DEFAULT 'NOW'
DEPT_NO             (DEPTNO) CHAR(3) Not Null
                    CHECK (VALUE = '000' OR
                    (VALUE > '0' AND VALUE <= '999') OR VALUE IS NULL)
JOB_CODE            (JOBCODE) VARCHAR(5) Not Null
                    CHECK (VALUE > '99999')
JOB_GRADE           (JOBGRADE) SMALLINT Not Null
CHECK               (VALUE BETWEEN 0 AND 6)
JOB_COUNTRY         (COUNTRYNAME) VARCHAR(15) Not Null
SALARY              (SALARY) NUMERIC(10, 2) Not Null DEFAULT 0
                    CHECK (VALUE > 0)
FULL_NAME           Computed by: (last_name || ', ' || first_name)
CONSTRAINT INTEG_28:
  Foreign key (DEPT_NO) References DEPARTMENT (DEPT_NO)
CONSTRAINT INTEG_29:
  Foreign key (JOB_CODE, JOB_GRADE, JOB_COUNTRY)
  References JOB (JOB_CODE, JOB_GRADE, JOB_COUNTRY)
CONSTRAINT INTEG_27:
  Primary key (EMP_NO)
CONSTRAINT INTEG_30:
  CHECK ( salary >= (SELECT min_salary FROM job WHERE
                     job.job_code = employee.job_code AND
                     job.job_grade = employee.job_grade AND
                     job.job_country = employee.job_country) AND
          salary <= (SELECT max_salary FROM job WHERE
                     job.job_code = employee.job_code AND
                     job.job_grade = employee.job_grade AND
                     job.job_country = employee.job_country))
Triggers on Table EMPLOYEE:
SET_EMP_NO, Sequence: 0, Type: BEFORE INSERT, Active
SAVE_SALARY_CHANGE, Sequence: 0, Type: AFTER UPDATE, Active

SQL> show table employee_2;

EMP_NO              (EMPNO) SMALLINT Not Null
FIRST_NAME          (FIRSTNAME) VARCHAR(15) Not Null
LAST_NAME           (LASTNAME) VARCHAR(20) Not Null
PHONE_EXT           VARCHAR(4) Nullable
HIRE_DATE           TIMESTAMP Not Null DEFAULT 'NOW'
DEPT_NO             (DEPTNO) CHAR(3) Not Null
                    CHECK (VALUE = '000' OR
                          (VALUE > '0' AND VALUE <= '999') OR VALUE IS NULL)
JOB_CODE            (JOBCODE) VARCHAR(5) Not Null
                    CHECK (VALUE > '99999')
JOB_GRADE           (JOBGRADE) SMALLINT Not Null
                    CHECK (VALUE BETWEEN 0 AND 6)
JOB_COUNTRY         (COUNTRYNAME) VARCHAR(15) Not Null
SALARY              (SALARY) NUMERIC(10, 2) Not Null DEFAULT 0
CHECK               (VALUE > 0)
FULL_NAME           Computed by: (last_name || ', ' || first_name)
CONSTRAINT INTEG_93:
  Primary key (EMP_NO)
  
SQL> -- Check indices on both tables...
SQL> show indices employee;

NAMEX INDEX ON EMPLOYEE(LAST_NAME, FIRST_NAME)
RDB$FOREIGN8 INDEX ON EMPLOYEE(DEPT_NO)
RDB$FOREIGN9 INDEX ON EMPLOYEE(JOB_CODE, JOB_GRADE, JOB_COUNTRY)
RDB$PRIMARY7 UNIQUE INDEX ON EMPLOYEE(EMP_NO)

SQL> show indices employee_2;
RDB$PRIMARY27 UNIQUE INDEX ON EMPLOYEE_2(EMP_NO)

SQL> -- Check data counts on both tables...
SQL> select count(*) from employee;

       COUNT
============
          42

SQL> select count(*) from employee_2;

       COUNT
============
           0
]]>                        
                    </programlisting>
                </para>
            </example>

            <para>Команда COPY работает только при условии, что ваше приложение
                    <application>isql</application> действительно называется isql. Кроме того, если
                в таблице много данных, вам все равно придется копировать их вручную, так как
                команда копирования будет копировать только структуру таблицы. Помните, что в новой
                таблице не будет ни триггеров, ни внешних ключей, ни индексов, кроме первичного
                ключа, ни данных.</para>

            <note>
                <para>Возможно команда COPY будет удалена из ISQL в следующих версиях.</para>
            </note>
        </section>

        <section xml:id="isql-commands-input">
            <title>INPUT</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>INPUT</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Подключение файла скрипта.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
INPUT <replaceable>&lt;filename&gt;</replaceable>                    
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора INPUT</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>filename</replaceable></entry>
                                <entry>
                                    <para>Имя файла с подключаемым скриптом.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда INPUT читает и выполняет блок команд из указанного текстового файла
                (скрипта SQL). Входные файлы могут содержать другие команды INPUT, предоставляя
                таким образом возможность проектирования цепочного или структурированного набора
                скриптов DDL.</para>

            <example>
                <title>Использование команды INPUT для включения скрипта</title>

                <para>
                    <programlisting>
SQL> shell;

$ cat test.sql
drop table fred;
commit;

$ exit;

SQL> show table fred;

A       INTEGER Nullable
B       INTEGER Not Null

SQL> input test.sql;

SQL> show table fred;
There is no table FRED in this database                        
                    </programlisting>
                </para>
            </example>

            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-commands-shell">SHELL</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands-output">
            <title>OUTPUT</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>OUTPUT</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Перенаправление вывода.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
OUTPUT [<replaceable>&lt;filename&gt;</replaceable>]                    
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора OUTPUT</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>filename</replaceable></entry>
                                <entry>
                                    <para>Имя файла для вывода.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда OUTPUT перенаправляет весь вывод, который обычно отображается на экране, в
                определенный файл. Если указано имя файла, все последующие выходные данные
                отправляются в этот файл и не отображаются на экране. Если имя файла не указано,
                вывод снова перенаправляется на экран.</para>

            <example>
                <title>Использование команды OUTPUT</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> output test.log;

SQL> show tables;

SQL> output;

SQL> shell;

$ cat test.log

COUNTRY              CUSTOMER
DEPARTMENT           EMPLOYEE
EMPLOYEE_PROJECT     FRED
JOB                  PROJECT
PROJ_DEPT_BUDGET     SALARY_HISTORY
SALES
]]>                       
                    </programlisting>
                </para>
            </example>

            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-commands-shell">SHELL</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands-set">
            <title>SET</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение текущий установок.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET                  
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET выводит текущие опции установленные с помощью команд SET.</para>

            <example>
                <title>Использование команды SET</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> SET;

Print statistics:        OFF
Echo commands:           OFF
List format:             OFF
Show Row Count:          OFF
Select maxrows limit:    0
Autocommit DDL:          ON
Access Plan:             OFF
Access Plan only:        OFF
Explain Access Plan:     OFF
Display BLOB type:       1
Column headings:         ON
Terminator:              ;
Time:                    OFF
Warnings:                ON
Bail on error:           OFF
Local statement timeout: 0

SQL>
]]>                       
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands-shell">
            <title>SHELL</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHELL</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Предоставление доступа к командной строке.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHELL [<replaceable>&lt;command&gt;</replaceable>]                  
                    </programlisting>
                </para>
            </formalpara>


            <para>
                <table frame="all">
                    <title>Параметры оператора SHELL</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>command</replaceable></entry>
                                <entry>
                                    <para>Команда системной консоли.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHELL позволяет вам временно выйти из isql и использовать сеанс системной
                оболочки для дальнейшей обработки. При этом не происходит подтверждение или откат
                любой транзакции. </para>

            <para>Аргумент <replaceable>&lt;command&gt;</replaceable> является необязательным, это
                команда или вызов, допустимый в командной строке, из которой была запущена
                    <application>isql</application>. Команда будет выполнена, а управление
                возвращено <application>isql</application>. Если команда не указана,
                    <application>isql</application> открывает интерактивную сессию в командной
                строке. При выходе из оболочки вы вернетесь в <application>isql</application>. Вы не
                можете использовать сеанс <application>isql</application>, который активировал
                оболочку, пока сеанс оболочки остается открытым.</para>

            <example>
                <title>Использование команды SHELL</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> shell;

$ cat test.log

  COUNTRY              CUSTOMER
  DEPARTMENT           EMPLOYEE
  EMPLOYEE_PROJECT     FRED
  JOB                  PROJECT
  PROJ_DEPT_BUDGET     SALARY_HISTORY
  SALES
$ exit
SQL>
]]>                       
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands-exit">
            <title>EXIT</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>EXIT</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Выход из isql.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
EXIT                  
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда EXIT подтверждает текущую транзакцию без подсказки, закрывает базу данных
                и завершает сессию <application>isql</application>.</para>
        </section>

        <section xml:id="isql-commands-quit">
            <title>QUIT</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>QUIT</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Выход из isql.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
QUIT                  
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда QUIT отменяет текущую транзакцию и закрывает базу данных и завершает
                сессию <application>isql</application>.</para>
        </section>
    </section>

    <section xml:id="isql-commands_set">
        <title>ISQL SET команды</title>

        <para>Как объясняется в команде HELP, вы можете ввести команду HELP SET, чтобы перейти к
            различным опциям доступных для SET команды. Команда HELP SET выводит следующую справку. <screen>
<![CDATA[            
SQL> help set;

Set commands:
    SET                    -- display current SET options
    SET AUTOddl            -- toggle autocommit of DDL statements
    SET BAIL               -- toggle bailing out on errors in non-interactive mode
    SET BLOB [ALL|<n>]     -- display BLOBS of subtype <n> or ALL
    SET BLOB               -- turn off BLOB display
    SET COUNT              -- toggle count of selected rows on/off
    SET MAXROWS [<n>]      -- limit select stmt to <n> rows, zero is no limit
    SET ECHO               -- toggle command echo on/off
    SET EXPLAIN            -- toggle display of query access plan in the explained form
    SET HEADING            -- toggle display of query column titles
    SET LIST               -- toggle column or table display format
    SET NAMES <csname>     -- set name of runtime character set
    SET PLAN               -- toggle display of query access plan
    SET PLANONLY           -- toggle display of query plan without executing
    SET SQL DIALECT <n>    -- set sql dialect to <n>
    SET STATs              -- toggle display of performance statistics
    SET TIME               -- toggle display of timestamp with DATE values
    SET TERM <string>      -- change statement terminator string
    SET WIDTH <col> [<n>]  -- set/unset print width to <n> for column <col>

All commands may be abbreviated to letters in CAPitals        
]]>
        </screen>
        </para>
        <note>
            <para> В выше приведённом примере команды BLOB являются неполными. Они должны быть
                отображены как BLOBdisplay. Далее мы будем использовать полную версию
                команды.</para>
        </note>

        <para>Последняя строка вышеприведенного вывода указывает, что эти команды могут быть
            сокращены до заглавных букв. К сожалению, кроме команды SET AUTOddl, ни одна из других
            не имеет краткой формы.</para>

        <section xml:id="isql-commands_set-set">
            <title>SET</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение текущий установок.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET                  
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET выводит текущие опции, установленные с помощью команд SET.</para>

            <example>
                <title>Использование команды SET</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> SET;

Print statistics:        OFF
Echo commands:           OFF
List format:             OFF
Show Row Count:          OFF
Select maxrows limit:    0
Autocommit DDL:          ON
Access Plan:             OFF
Access Plan only:        OFF
Explain Access Plan:     OFF
Display BLOB type:       1
Column headings:         ON
Terminator:              ;
Time:                    OFF
Warnings:                ON
Bail on error:           OFF

SQL>
]]>                       
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_set-set_autoddl">
            <title>SET AUTODDL</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET AUTODDL</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Установка или отключение автоматического подтверждения для DDL
                    операторов.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET AUTOddl [ON | OFF]                 
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET AUTODDL устанавливает будет ли автоматически подтверждаться транзакция
                для DDL операторов. Команда без каких-либо параметров действует как переключатель,
                она отключает функцию AUTODLL, если она включена или наоборот. Вы можете указать
                конкретный параметр, чтобы прояснить свои намерения. Параметр должен быть одним из
                двух ON или OFF. Команда SET без параметров отобразит текущую настройку. По
                умолчанию функция AUTODDL включена.</para>
        </section>

        <section xml:id="isql-commands_set-set_bail">
            <title>SET BAIL</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET BAIL</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Передача обработки ошибок операционной системе.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET BAIL [ON | OFF]                 
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET BAIL устанавливает, будет ли isql останавливать выполнение скрипта в
                пакетном режиме при возникновении ошибки и передавать управление операционной
                системе, возвращая при этом код ошибки. В интерактивном режиме при возникновении
                ошибок <application>isql</application> не будет прекращать свою работу.</para>

            <para>Выполнение этой команды без передачи параметра приводит к переключению текущего
                состояния. Если SET BAIL включен, то он отключится и наоборот.</para>
        </section>

        <section xml:id="isql-commands_set-set_blob">
            <title>SET BLOB</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET BLOB</secondary>
            </indexterm>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET BLOBdisplay</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Включение или выключение отображения подтипа BLOB.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET BLOB [<replaceable>&lt;n&gt;</replaceable> |ALL | OFF] 
                        
SET BLOBDISPLAY [<replaceable>&lt;n&gt;</replaceable> |ALL | OFF]                         
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SET BLOB </title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>n</replaceable></entry>
                                <entry>
                                    <para>Номер подтипа BLOB. Значение по умолчанию n=1 (текст).
                                        Положительные числа определены в системе; отрицательные
                                        числа определяются пользователем.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SET BLOB определяет, должны ли данные столбца BLOB отображаться в выводе.
                Если параметры не переданы в команду SET BLOB или передан параметр OFF, то поля типа
                BLOB отображаться не будут, вместо них будут отображаться идентификаторы BLOB.
                Идентификатор BLOB представляет собой два шестнадцатеричных числа, разделенных
                двоеточием. Первое число — это идентификатор таблицы, а второе — последовательный
                номер в базе данных.</para>

            <para>Если в команду SET BLOB передан параметр ALL, то будут отображаться BLOB поля всех
                подтипов.</para>

            <para>Если передано число, представляющее подтип BLOB, то будут отображаться только BLOB
                с указанным подтипом. По умолчанию отображаются поля с подтипом 1 (текстовые
                данные).</para>

            <example>
                <title>Использование SET BLOB</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> -- Don't display any blob data.
SQL> set blob off;

SQL> select proj_desc
CON> from project
CON> where proj_id = 'HWRII';

        PROJ_DESC
=================
           85:1e4

SQL> -- Display all blob data.
SQL>  set blobdisplay all;

SQL> select proj_desc
CON> from project
CON> where proj_id = 'HWRII';

        PROJ_DESC
=================
           85:1e4
==============================================================================
PROJ_DESC:
Integrate the hand-writing recognition module into the
universal language translator.

==============================================================================

SQL> -- Only display type 1 blob data = text.
SQL> set blob 1;

SQL> select proj_desc
CON> from project
CON> where proj_id = 'HWRII';

        PROJ_DESC
=================
           85:1e4
==============================================================================
PROJ_DESC:
Integrate the hand-writing recognition module into the
universal language translator.

==============================================================================

SQL> -- Only display blob type 7 = not text!
SQL> set blob 7;

SQL> select proj_desc
CON> from project
CON> where proj_id = 'HWRII';

        PROJ_DESC
=================
           85:1e4
==============================================================================
PROJ_DESC:
BLOB display set to subtype 7. This BLOB: subtype = 1
==============================================================================
]]>                        
                    </programlisting>
                </para>
            </example>

            <para>В последнем примере вы заметите, что было отображено сообщение о том, что мы
                отображаем данные BLOB только для подтипа 7, а данные BLOB в этой таблице являются
                подтипом 1, поэтому данные не отображаются.</para>

            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-commands-blobdump">BLOBDUMP</link>, <link
                        linkend="isql-commands-blobview">BLOBVIEW</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands_set-set_bulk_insert">
            <title>SET BULK_INSERT</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET BULK_INSERT</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Пакетная вставка записей в таблицу.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET BULK_INSERT <replaceable>&lt;prepared insert statement&gt;</replaceable>                                             
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SET BULK_INSERT </title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>prepared insert statement</replaceable></entry>
                                <entry>
                                    <para>Подготовленный оператор INSERT.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SET BULK_INSERT осуществляет примитивную обработку подготовленных запросов
                на вставку. После ввода этой команды пользователь входит в интерактивный режим
                    (<code>BULK></code>), где требуется ввести параметры в виде кортежа
                        <code>(<replaceable>val1</replaceable>, ...,
                    <replaceable>valN</replaceable>)</code>. Для выхода из интерактивного режима
                введите пустую строку или любой символ, отличный от <quote>(</quote> и
                    <quote>--</quote> (можно явно выйти, введя слово STOP). Кортежи должны
                располагаться на одной строке, за исключением параметров в кавычках. Однако, если
                добавить <quote>+++</quote> после запятой, параметры кортежа можно переносить на
                следующую строку. Одиночные комментарии (<quote>--</quote>) можно добавлять только
                между кортежами. Команды COMMIT или COMMIT WORK вводятся с первого символа строки и
                располагаются на одной строке. Любые символы, идущие за кортежем, кроме
                    <quote>)</quote> и <quote>+++</quote>, будут игнорироваться.</para>

            <example>
                <title>Использование SET BULK_INSERT для пакетной вставки</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> create table t1(id int not null primary key, name varchar(50));

SQL> set bulk_insert insert into t1(id, name) values(?, ?);
BULK> (1, 'a')
BULK> (2, 'b')
BULK> (3, 'c')
BULK> commit;
BULK>
SQL> select * from t1;

          ID NAME
============ ==================================================
           1 a
           2 b
           3 c
           
SQL> set bulk_insert insert into t1(id, name) values(?, ?);
BULK> -- insert 4 record
BULK> (4, 'abcd')
BULK> (5, +++
CON> 'efg')
BULK> stop

SQL> commit;

SQL> select * from t1;

          ID NAME
============ ==================================================
           1 a
           2 b
           3 c
           4 abcd
           5 efg           
]]>                        
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_set-set_count">
            <title>SET COUNT</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET COUNT</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Включение или выключение отображения количества строк затронутых
                    запросом.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET COUNT [ON|OFF]                                            
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET COUNT включает или выключает отображение количества строк затронутых
                DML запросом. Выполнение этой команды без передачи параметра приводит к переключению
                текущего состояния.</para>

            <para>
                <programlisting>
<![CDATA[
SQL> set count on;

SQL> select count(*) from employee;

                COUNT
=====================
                   42

Records affected: 1
]]>                    
                </programlisting>
            </para>

            <para>Количество затронутых записей отображается для всех DDL операторов, а не только
                для SELECT. <programlisting>
<![CDATA[
SQL> create table fred( a integer);
SQL> commit;

SQL> insert into fred values (666);
Records affected: 1

SQL> update fred set a = 123 where a = 666;
Records affected: 1

SQL> delete from fred;
Records affected: 1

SQL> commit;
]]>                    
                </programlisting>
            </para>

            <formalpara>
                <title>Смотри также:</title>

                <para>SET ROWCOUNT.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands_set-set_echo">
            <title>SET ECHO</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET ECHO</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Включение или выключение отображения команд до их выполнения.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET ECHO [ON|OFF]                                            
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET ECHO включает или выключает отображение команд до их выполнения. Вы
                может отключить эхо-вывод для части файла сценария, хотя по умолчанию эхо вывод
                выключен в ISQL. Выполнение этой команды без передачи параметра приводит к
                переключению текущего состояния.</para>

            <example>
                <title>Использование команды SET ECHO</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> set echo on;

SQL> select count(*) from rdb$database;
select count(*) from rdb$database;

                COUNT
=====================
                    1

Records affected: 1
SQL> set echo off;
set echo off;

SQL> select count(*) from rdb$database;

                COUNT
=====================
                    1

Records affected: 1
]]>                    
                </programlisting>
                </para>
            </example>

            <para>Эта команда может быть полезна в файле сценария. Если вы получаете сообщение об
                ошибке, иногда бывает трудно определить точный оператор SQL, вызвавший ее. Если вы
                установите ECHO ON в своем скрипте, вы по крайней мере сможете точно определить,
                какой оператор потерпел неудачу.</para>
        </section>

        <section xml:id="isql-commands_set-set_explain">
            <title>SET EXPLAIN</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET EXPLAIN</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Включение или выключение отображения расширенного плана запроса.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET EXPLAIN [ON|OFF]                                            
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET EXPLAIN включает или выключает отображение расширенного плана запроса.
                Расширенный план выводит более подробную информацию о методах доступа используемых
                оптимизатором, однако его нельзя включить в запрос. По умолчанию вывод расширенного
                плана запроса отключен. Выполнение этой команды без передачи параметра приводит к
                переключению текущего состояния.</para>

            <example>
                <title>Использование команды SET EXPLAIN</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> set explain on;
SQL> set planonly on;
SQL> select * from employee cross join rdb$database;

Select Expression
    -> Nested Loop Join (inner)
        -> Table "RDB$DATABASE" Full Scan
        -> Table "EMPLOYEE" Full Scan
SQL>
]]>                    
                </programlisting>
                </para>
            </example>

            <tip>
                <para>Если вам необходимо вывести только план запроса без его выполнения, то вы
                    можете выполнить команду <code>SET PLANONLY ON</code>.</para>
            </tip>

            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-commands_set-set_plan">SET PLAN</link>, <link
                        linkend="isql-commands_set-set_planonly">SET PLANONLY</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands_set-set_heading">
            <title>SET HEADING</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET HEADING</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Включение или выключение отображения заголовков столбцов.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET HEADING [ON|OFF]                                            
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET HEADING включает или выключает отображение заголовков столбцов. По
                умолчанию отображение заголовков столбцов включено. Выполнение этой команды без
                передачи параметра приводит к переключению текущего состояния.</para>

            <example>
                <title>Использование команды SET HEADING</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> set plan off;
SQL> set heading off;
SQL> select count(*) from employee;

                   42

SQL> set heading on;
SQL> select count(*) from employee;

                COUNT
=====================
                   42
]]>                    
                </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_set-set_list">
            <title>SET LIST</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET LIST</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Включение или выключение отображения вывода результатов SELECT запроса в виде
                    списка.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET LIST [ON|OFF]                                            
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET LIST управляет отображением данных, возвращаемых оператором SELECT. По
                умолчанию данные на экране выводятся в табличном варианте, где сверху названия
                столбцов, а под ними все строки, удовлетворяющие запросу SELECT. Включение режима
                списка приводит к другому формату, в котором заголовок каждого столбца отображается
                слева, а данные столбца — справа. Это повторяется для каждой строки, возвращаемой
                запросом. </para>

            <para>Выполнение этой команды без передачи параметра приводит к переключению текущего
                состояния.</para>

            <example>
                <title>Использование команды SET LIST</title>

                <para>
                    <programlisting>
<![CDATA[

SQL> set list off;
SQL> select emp_no, first_name, last_name, salary
CON> from employee;

 EMP_NO FIRST_NAME      LAST_NAME                           SALARY
======= =============== ==================== =====================
      2 Robert          Nelson                           105900.00
      4 Bruce           Young                             97500.00
      5 Kim             Lambert                          102750.00
      8 Leslie          Johnson                           64635.00
.............

SQL> set list on;
SQL> select emp_no, first_name, last_name, salary
CON> from employee;

EMP_NO                          2
FIRST_NAME                      Robert
LAST_NAME                       Nelson
SALARY                          105900.00

EMP_NO                          4
FIRST_NAME                      Bruce
LAST_NAME                       Young
SALARY                          97500.00

..........
]]>                    
                </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_set-set_names">
            <title>SET NAMES</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET NAMES</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Установка набора символов для последующий подключений.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET NAMES [<replaceable>&lt;character_set&gt;</replaceable>]                                         
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SET NAMES</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>character_set</replaceable></entry>
                                <entry>
                                    <para>Набор символов для последующих подключений.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Оператор SET NAMES устанавливает набор символов для последующих подключений к базе
                данных с помощью isql. Это позволяет вам переопределить набор символов по умолчанию
                для базы данных. Чтобы вернуться к использованию набора символов по умолчанию,
                используйте SET NAMES без аргументов.</para>

            <para>Используйте команду SET NAMES перед подключением к базе данных для того, чтобы
                указать требуемый набор символов. Список поддерживаемых наборов символов можно
                посмотреть выполнив запрос: <programlisting> 
<![CDATA[
SQL> select RDB$CHARACTER_SET_NAME
CON> from RDB$CHARACTER_SETS
CON> order by 1;

RDB$CHARACTER_SET_NAME
==============================
ASCII
BIG_5
CP943C
CYRL
...
DOS864
DOS865
DOS866
DOS869
...
NONE
OCTETS
...
UTF8
...
WIN1250
WIN1251
WIN1252
...
]]>                                        
                    </programlisting>
            </para>

            <para>Выбор набора символов ограничивает возможные порядки сопоставления (сортировки)
                подмножеством всех доступных порядков сопоставления для заданного набора
                символов.</para>

            <para>Если набор символов по умолчанию для базы данных не равен NONE, то в ситуациях,
                когда клиент использует другой набор символов для базы данных, возможно пострадать
                от повреждения данных, поскольку некоторые наборы символов не могут преобразовать
                некоторые символы в подходящий символ в другом наборе символов.</para>

            <para>Если вы не передадите набор символов, то по умолчанию будет использоваться набор
                символов NONE.</para>
        </section>

        <section xml:id="isql-commands_set-set_plan">
            <title>SET PLAN</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET PLAN</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Включение или отключение отображение плана запроса.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET PLAN [ON | OFF]                                         
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET PLAN определяет, будет ли <application>isql</application> отображать
                план, который он использовал для доступа к данным для каждого выполненного
                оператора. По умолчанию <application>isql</application> никогда не отображает план.
                Как и во многих других командах, отсутствие параметра переключает текущее
                состояние.</para>

            <example>
                <title>Использование команды SET PLAN</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> set plan on;

SQL> select emp_no, first_name, last_name
CON> from employee
CON> where emp_no = 107;

PLAN (EMPLOYEE INDEX (RDB$PRIMARY7))

 EMP_NO FIRST_NAME      LAST_NAME
======= =============== ====================
    107 Kevin           Cook

SQL> update employee
CON> set first_name = 'Norman'
CON> where last_name = 'Cook';

PLAN (EMPLOYEE INDEX (NAMEX))

SQL> select count(*) from employee;

PLAN (EMPLOYEE NATURAL)

                COUNT
=====================
                   42
]]>                            
                        </programlisting>
                </para>
            </example>

            <para>План выполнения отображается перед выводом из оператора SELECT.</para>

            <tip>
                <para>Для вывода расширенного плана используйте команду SET EXPLAIN.</para>
            </tip>

            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-commands_set-set_explain">SET EXPLAIN</link>, <link
                        linkend="isql-commands_set-set_planonly">SET PLANONLY</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands_set-set_planonly">
            <title>SET PLANONLY</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET PLANONLY</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Включение или отключение режима отображение только плана запроса без его
                    выполнения.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET PLANONLY [ON | OFF]                                         
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда <code>SET PLANONLY ON</code> не позволяет Firebird фактически выполнить
                оператор SQL, а просто показывает план, который будет использоваться для доступа к
                данным. Эта команда опирается на команду SET PLAN. Если <code>SET PLAN OFF</code>
                был выполнен, то эта команда не имеет никакого эффекта, поэтому включение PLANONLY
                ON имеет дополнительный эффект неявного выполнения <code>SET PLAN ON</code>.
                Выполнение <code>SET PLANONLY OFF</code> не вызывает неявного выполнения <code>SET
                    PLAN OFF</code>.</para>

            <example>
                <title>Использование команды SET PLANONLY</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> set planonly on;

SQL> select count(*) from employee;

PLAN (EMPLOYEE NATURAL)
]]>                            
                        </programlisting>
                </para>
            </example>

            <para>Как и во многих других командах, отсутствие параметра переключает текущее
                состояние.</para>

            <para>Действие команды <code>SET PLANONLY ON</code> также распространяется и на вывод
                расширенного плана без фактического выполнения запроса. </para>

            <example>
                <title>Использование команды SET PLANONLY совместно с SET EXPLAIN</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> set explain on;
SQL> set planonly on;

SQL> select count(*) from employee;

Select Expression
    -> Aggregate
        -> Table "EMPLOYEE" Full Scan
]]>                            
                        </programlisting>
                </para>
            </example>

            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-commands_set-set_plan">SET PLAN</link>, <link
                        linkend="isql-commands_set-set_explain">SET EXPLAIN</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands_set-set_sqlda">
            <title>SET SQLDA_DISPLAY</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET SQLDA_DISPLAY</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Включение или отключение отображения информации о внутренних структурах для
                    входных и выходных сообщений.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET SQLDA_DISPLAY [ON | OFF]                                         
                    </programlisting>
                </para>
            </formalpara>

            <para>Это скрытая команда, которая не упоминается в выводе команды HELP SET. Она
                отображает внутренние подробности о структурах для входных и выходных сообщений
                операторов SQL, выполняемых <application>isql</application>. Раньше она была
                доступна только в специальной отладочной сборке, но начиная с версии 2.0 она
                доступна в <application>isql</application>.</para>

            <example>
                <title>Использование команды SET SQLDA_DISPLAY</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> set sqlda_display on;

SQL> select count(*) from employee;

INPUT message field count: 0

OUTPUT message field count: 1
01: sqltype: 580 INT64 scale: 0 subtype: 0 len: 8
  :  name: COUNT  alias: COUNT
  : table:   owner:

                COUNT
=====================
                   42
                   
SQL> select emp_no as id, first_name from employee fetch first row only;

INPUT message field count: 0

OUTPUT message field count: 2
01: sqltype: 500 SHORT scale: 0 subtype: 0 len: 2
  :  name: EMP_NO  alias: ID
  : table: EMPLOYEE  owner: SYSDBA
02: sqltype: 448 VARYING scale: 0 subtype: 0 len: 15 charset: 0 NONE
  :  name: FIRST_NAME  alias: FIRST_NAME
  : table: EMPLOYEE  owner: SYSDBA

     ID FIRST_NAME
======= ===============
      2 Robert       
      
SQL> select emp_no as id, first_name from employee 
CON> where emp_no = ? fetch first row only;

INPUT message field count: 1
01: sqltype: 500 SHORT scale: 0 subtype: 0 len: 2
  :  name:   alias:
  : table:   owner:

OUTPUT message field count: 2
01: sqltype: 500 SHORT scale: 0 subtype: 0 len: 2
  :  name: EMP_NO  alias: ID
  : table: EMPLOYEE  owner: SYSDBA
02: sqltype: 448 VARYING scale: 0 subtype: 0 len: 15 charset: 0 NONE
  :  name: FIRST_NAME  alias: FIRST_NAME
  : table: EMPLOYEE  owner: SYSDBA
Statement failed, SQLSTATE = 07002
Dynamic SQL Error
-SQLDA error
-No SQLDA for input values provided      
]]>                            
                        </programlisting>
                </para>
            </example>

            <note>
                <para>Обратите внимание, что при запуске команд HELP SET или SET информация об этой
                    команде не отображается.</para>
            </note>

            <tip>
                <para>Как видите последний оператор вызвал ошибку, поскольку
                        <application>isql</application> не позволяет запрашивать значения для
                    входных параметров. Вы можете подавить её отключив фактическое выполнение
                    команды с помощью <code>SET PLANONLY ON</code>.</para>
            </tip>

        </section>

        <section xml:id="isql-commands_set-set_sqldialect">
            <title>SET SQL DIALECT</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET SQL DIALECT</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Установка SQL диалекта.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET SQL DIALECT {1 | 2 | 3}                                       
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET SQL DIALECT задает диалект SQL Firebird, на который должен быть
                изменен сеанс клиента. Если сеанс в настоящее время присоединен к базе данных,
                отличной от диалекта, указанного в команде, отображается предупреждение.</para>
            <para>Посмотрите <link linkend="isql-sql_dialect">Диалекты SQL</link> для того, чтобы
                узнать о различиях между тремя диалектами.</para>
            <example>
                <title>Использование команды SET SQL DIALECT</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> set sql dialect 1;
WARNING: Client SQL dialect has been set to 1 when 
connecting to Database SQL dialect 3 database.
...
SQL> set sql dialect 3;                
]]>                            
                        </programlisting>
                </para>
                <note>
                    <para>Предупреждение в приведенном выше примере пришлось разделить на две
                        строки, чтобы оно поместилось на странице. Обычно оно состоит из одной
                        строки.</para>
                </note>
            </example>
        </section>

        <section xml:id="isql-commands_set-set_stats">
            <title>SET STATs</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET STATs</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Включение или отключение отображения статистки.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET STATs [ON | OFF]                                       
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET STATS определяет, должен ли <application>isql</application> отображать
                различную статистику о каждой выполненной команде SQL. Как и во многих других
                командах, отсутствие параметра переключает текущее состояние.</para>

            <example>
                <title>Использование команды SET STATS</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> set stat on;
SQL> select count(*) from employee;

                COUNT
=====================
                   42

Current memory = 19458128
Delta memory = 282544
Max memory = 19531888
Elapsed time= 0.103 sec
Buffers = 2048
Reads = 28
Writes = 0
Fetches = 360              
]]>                            
                        </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_set-set_time">
            <title>SET TIME</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET TIME</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Включение или отключение отображение времени для типа DATE в
                    1-диалекте.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET TIME [ON | OFF]                                       
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET TIME применяется только к базам данных диалекта 1. Её выполнение
                приводит к тому, что часть времени отображается или нет, когда выбираются данные с
                типом данных DATE. Команда не имеет действия с базами данных в других
                диалектах.</para>
        </section>

        <section xml:id="isql-commands_set-set_term">
            <title>SET TERM</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET TERM</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Установка символа (символов) терминатора команды или оператора.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET TERM <replaceable>&lt;new_terminator&gt;</replaceable> <replaceable>&lt;current_terminator&gt;</replaceable>                                     
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SET TERM</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>new_terminator</replaceable></entry>
                                <entry>
                                    <para>Новый символ (символы) терминатор.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>current_terminator</replaceable></entry>
                                <entry>
                                    <para>Текущий символ (символы) терминатор.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SET TERM изменяет терминатор оператора по умолчанию с точки с запятой на
                что-то другое, определенное в переданной строке. Это полезно, когда вы собираетесь
                ввести строку SQL-операторов, составляющих, например, процедуру или триггер. Isql
                попытается выполнить каждый оператор, когда встречает завершающую точку с запятой,
                поэтому сначала нужно изменить терминатор, а затем ввести требуемый код. После
                завершения ввода, вы можете изменить его обратно. При этом необходимо помнить, что
                вы должны завершить команду SET TERM текущим символом (символами)
                терминатором.</para>

            <para>При первом запуске isql использует точку с запятой в качестве терминатора по
                умолчанию.</para>

            <example>
                <title>Использование команды SET TERM</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> set term ~ ;

SQL> create procedure test_proc (iInput integer = 666)
CON> returns (oOutput integer)
CON> as
CON> begin
CON>   oOutput = iInput;
CON>   suspend;
CON> end~

SQL> set term ; ~

SQL> commit;

SQL> select * from test_proc;

     OOUTPUT
============
         666             
]]>                            
                        </programlisting>
                </para>
            </example>

            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-terminator">Символ терминатора</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands_set-set_warnings">
            <title>SET WARNINGS</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET WARNINGS</secondary>
            </indexterm>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET WNG</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Включение или выключение вывода предупреждающих сообщений.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET {WARNINGS | WNG} [ON | OFF]                                  
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SET WARNINGS включает или выключает вывод предупреждающих
                сообщений.</para>
        </section>

        <section xml:id="isql-commands_set-set_width">
            <title>SET WIDTH</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SET WIDTH</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Установка ширины вывода для символьных столбцов.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SET WIDTH <replaceable>&lt;column_name&gt;</replaceable> [<replaceable>&lt;width&gt;</replaceable>]                                  
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SET WIDTH</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>column_name</replaceable></entry>
                                <entry>
                                    <para>Наименование или псевдоним символьного столбца.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>width</replaceable></entry>
                                <entry>
                                    <para>Ширина вывода в символах.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Обычно ширина вывода символьных столбцов в таблице определяется по размеру
                выбираемых символьных полей. Использование команды SET WIDTH позволяет пользователю
                определять ширину выходного столбца в большую или меньшую сторону. Если параметр
                    <replaceable>width</replaceable> не указан, то будет использована ширина столбца
                по умолчанию для этого столбца.</para>
            <para>В следующем примере показано изменение ширины столбца last_name. Первый SELECT
                отображается с настройками по умолчанию. В этом случае ширина столбца last_name
                составляет 20 символов (считайте количество символов <quote>=</quote> в заголовке).
                Она задаётся определением столбца last_name в таблице employee. Второй пример
                показывает таблицу с шириной, уменьшенной до 10 символов. <programlisting> 
<![CDATA[
SQL> select emp_no, last_name
CON> from employee
CON> order by last_name
CON> fetch first 5 rows only;

 EMP_NO LAST_NAME
======= ====================
     34 Baldwin
    105 Bender
     28 Bennet
     83 Bishop
    109 Brown

SQL> set width last_name 10;

SQL> select emp_no, last_name
CON> from employee
CON> order by last_name
CON> fetch first 5 rows only;

 EMP_NO LAST_NAME
======= ==========
     34 Baldwin
    105 Bender
     28 Bennet
     83 Bishop
    109 Brown
]]>                             
                    </programlisting>
            </para>
            <para>Столбец emp_no имеет тип SMALLINT. ISQL не может изменить ширину столбцов, которые
                не являются символьными типами. В следующем примере команда <code>set width emp_no
                    10</code> не имеет никакого эффекта. В нём также показано отключение настройки
                ширины для столбца last_name. <programlisting>
<![CDATA[
SQL> set width last_name;

SQL> set width emp_no 10;

SQL> select emp_no, last_name
CON> from employee
CON> order by last_name
CON> fetch first 5 rows only;

 EMP_NO LAST_NAME
======= ====================
     34 Baldwin
    105 Bender
     28 Bennet
     83 Bishop
    109 Brown
]]>                     
                </programlisting>
            </para>
        </section>
    </section>
    <section xml:id="isql-commands_show">
        <title>ISQL SHOW команды</title>

        <para>Как объясняется в команде HELP, в isql есть несколько отдельных команд SHOW. Общий
            синтаксис следующий:
            <programlisting>
SHOW <replaceable>&lt;object&gt;</replaceable> [<replaceable>&lt;name&gt;</replaceable>]   
</programlisting>
        </para>

        <para>
            <table frame="all">
                <title>Параметры оператора SHOW</title>
                <?dbfo keep-together='auto'?>
                <tgroup cols="2">
                    <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                    <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                    <thead>
                        <row valign="middle">
                            <entry align="center">Параметр</entry>
                            <entry align="center">Описание</entry>
                        </row>
                    </thead>
                    <tbody>
                        <row>
                            <entry><replaceable>object</replaceable></entry>
                            <entry>
                                <para>Тип отображаемого или отображаемых объектов метаданных.</para>
                            </entry>
                        </row>
                        <row>
                            <entry><replaceable>name</replaceable></entry>
                            <entry>
                                <para>Наименование объекта метаданных.</para>
                            </entry>
                        </row>
                    </tbody>
                </tgroup>
            </table>
        </para>

        <para>Тип объекта метаданных требуется указывать всегда, а имя требуется для отображения
            сведений о конкретном объекте. Без имени команды обычно отображают все имена объекты
            запрошенного типа.</para>

        <para>В отличие от команд SET, нет удобной детализации различных команд SHOW, c
            использованием команды HELP. Однако, если вы наберете SHOW без аргументов, то вам будет
            оказана небольшая помощь. <programlisting>
        <![CDATA[
SQL> show;

Valid options are:
CHECKs                   COMMENTs                 COLLATEs
COLLATIONs               DOMAINs                  DB
DATABASE                 DEPENdency               DEPENdencies
EXCEPtions               FILTERs                  FUNCtions
GENerators               GRANTs                   INDexes
INDICES                  MAPping                  PROCedures
PACKages                 ROLEs                    SYStem
SEQuences                SECURITY CLAsses         SECCLAsses
SCHEmas                  TABLEs                   TRIGgers
USERS                    VIEWs
Command error: show
        ]]>    
        </programlisting>
        </para>

        <para>Каждый тип объекта метаданных может быть сокращен до букв, отображаемых заглавными
            буквами.</para>

        <note>
            <para>Подсказка, выданная командой SHOW, содержит несколько ошибок. Например, следующие
                команды не работают:<itemizedlist>
                    <listitem>
                        <para>SHOW SCHEmas (очевидно зарезервирована для будущих версий где могут
                            появится схемы);</para>
                    </listitem>
                    <listitem>
                        <para>SHOW SECURITY CLAsses</para>
                    </listitem>
                </itemizedlist></para>
        </note>

        <para>Команды SHOW подробно детализированы и описаны ниже. Где это возможно, приведены
            примеры из базы данных employee.</para>

        <section xml:id="isql-commands_show-show_check">
            <title>SHOW CHECK</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW CHECK</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение ограничений для указанной таблицы.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW CHECKs <replaceable>&lt;table_name&gt;</replaceable>                                                          
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW CHECK</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>table_name</replaceable></entry>
                                <entry>
                                    <para>Наименование таблицы для которой требуется отобразить
                                        ограничения.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW CHECKs отображает все проверочные ограничения, определенные
                пользователем для заданной таблицы. В отличие от других команд SHOW, здесь нет опции
                для отображения списка всех проверочных ограничений в базе данных. Вы всегда должны
                указывать имя таблицы как часть команды.</para>

            <example>
                <title>Использование команды SHOW CHECK</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show check employee;

CONSTRAINT INTEG_30:
  CHECK ( salary >= (SELECT min_salary FROM job WHERE
                        job.job_code = employee.job_code AND
                        job.job_grade = employee.job_grade AND
                        job.job_country = employee.job_country) AND
            salary <= (SELECT max_salary FROM job WHERE
                        job.job_code = employee.job_code AND
                        job.job_grade = employee.job_grade AND
                        job.job_country = employee.job_country))
]]>    
</programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_show-show_collations">
            <title>SHOW COLLATION</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW COLLATION</secondary>
            </indexterm>
            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW COLLATE</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение списка пользовательских параметров сортировок или параметров для
                    указанной сортировке.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {COLLATIONs | COLLATION <replaceable>&lt;collate_name&gt;</replaceable> }   
                        
SHOW {COLLATEs | COLLATE <replaceable>&lt;collate_name&gt;</replaceable> }                         
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW COLLATION</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>collate_name</replaceable></entry>
                                <entry>
                                    <para>Имя определённой пользователем сортировки.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Эти команды отображают список всех параметров для опреределённых пользователем
                сортировок в текущей базе данных. В первой форме отображается список всех параметров
                всех определенных пользователем сортировок. Если указано имя конкретной сортировки,
                то будут отображаться только её параметры. </para>

            <example>
                <title>Использование команды SHOW COLLATION</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show collations;
UNICODE_ENUS_CI, CHARACTER SET UTF8, FROM EXTERNAL ('UNICODE'), PAD SPACE,
CASE INSENSITIVE, 'COLL-VERSION=58.0.6.48'
UNICODE_ENUS_CS, CHARACTER SET UTF8, FROM EXTERNAL ('UNICODE'), PAD SPACE,
'COLL-VERSION=58.0.6.48'

SQL> show collation unicode_enus_ci;
UNICODE_ENUS_CI, CHARACTER SET UTF8, FROM EXTERNAL ('UNICODE'), PAD SPACE,
CASE INSENSITIVE, 'COLL-VERSION=58.0.6.48'
]]>                        
                    </programlisting>
                </para>
            </example>

            <para>Выше приведённые результаты не являются частью базы данных
                    <filename>employee</filename>. Некоторые строки в приведенном выше тексте
                пришлось разделить на две, чтобы они поместились на странице.</para>
        </section>

        <section xml:id="isql-commands_show-show_comments">
            <title>SHOW COMMENTS</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW COMMENTS</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение всех комментариев, созданных для различных объектов базы
                    данных.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW COMMENTs                        
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SHOW COMMENTЫ отображает все комментарии, которые были созданы для
                различных объектов в текущей базе данных. Нет возможности отобразить конкретный
                комментарий. Каждый комментарий перечисляется вместе с типом объекта и именем, к
                которому он был применен.</para>

            <example>
                <title>Использование команды SHOW COLLATION</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show comments;

COMMENT ON DATABASE IS This is the demonstration EMPLOYEE database.;
COMMENT ON TABLE EMPLOYEE IS The EMPLOYEE table has details of our employees.;
]]>                        
                    </programlisting>
                </para>
            </example>

            <para>Фактический текст комментария отображается между ключевым словом IS и конечной
                точкой с запятой</para>

        </section>

        <section xml:id="isql-commands_show-show_db">
            <title>SHOW DATABASE</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW DATABASE</secondary>
            </indexterm>
            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW DB</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение информации о текущей базе данных.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {DATABASE | DB}                       
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SHOW DATABASE (или SHOW DB) отображает сведения о текущей базе данных (имя
                файла, владелец, размер и количество выделенных страниц, интервал очистки, счётчики
                транзакций, флаг Forced Writes, ODS, зашифрована ли база данных, набор символов по
                умолчанию).</para>

            <example>
                <title>Использование команды SHOW DATABASE</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show database;

Database: employee
        Owner: SYSDBA
PAGE_SIZE 8192
Number of DB pages allocated = 326
Number of DB pages used = 297
Number of DB pages free = 29
Sweep interval = 20000
Forced Writes are OFF
Transaction - oldest = 181
Transaction - oldest active = 214
Transaction - oldest snapshot = 214
Transaction - Next = 218
ODS = 12.0
Database not encrypted
Default Character set: NONE
]]>                        
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_show-show_dependencies">
            <title>SHOW DEPENDENCIES</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW DEPENDENCIES</secondary>
            </indexterm>
            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW DEPENDENCY</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение зависимости для указанного объекта базы данных.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW DEPENdencies <replaceable>&lt;object_name&gt;</replaceable>

SHOW DEPENdency <replaceable>&lt;object_name&gt;</replaceable>
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW DEPENDENCIES</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>object_name</replaceable></entry>
                                <entry>
                                    <para>Наименование объекта метаданных для которого отображаются
                                        зависимости.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW DEPENDENCIES отображают все зависимости для указанного имени объекта.
                Указанное имя объекта может быть таблицей, представлением, хранимой процедурой,
                функцией, пакетом и т.д.</para>

            <para>Выводимый список представляет собой разделенный запятыми список других объектов в
                базе данных, от которых зависит указанный объект. Другими словами, процедура не
                сможет скомпилироваться, если, например, будет удалена какая-либо из перечисленных
                зависимостей. <programlisting>
<![CDATA[
SQL> show dependencies SET_CUST_NO;
        [SET_CUST_NO:Trigger]
CUSTOMER:Table<-CUST_NO, CUST_NO_GEN:Generator
+++
]]>                
            </programlisting>
            </para>

            <para>Вышеприведенный листинг показывает, что SET_CUST_NO является триггером и что он
                зависит от двух объектов, столбца CUST_NO таблицы CUSTOMER и
                последовательности/генератора с именем CUST_NO_GEN. Если вы отобразите сам триггер,
                вы увидите оба упомянутых объекта: <programlisting>
<![CDATA[
SQL> show trigger set_cust_no;

Triggers on Table CUSTOMER:
SET_CUST_NO, Sequence: 0, Type: BEFORE INSERT, Active
Trigger text:
=============================================================================
AS
BEGIN
  if (new.cust_no is null) then
    new.cust_no = gen_id(cust_no_gen, 1);
END
=============================================================================
]]>                
            </programlisting>
            </para>

            <para>Иногда вывод может показаться немного запутанным. Вы можете увидеть различные
                объекты в списке, которые не кажутся релевантными. Таблица RDB$DEPENDENCIES, также
                содержит сведения об объектах, от которых будет зависеть данный объект.</para>
        </section>

        <section xml:id="isql-commands_show-show_domain">
            <title>SHOW DOMAIN</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW DOMAIN</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение списка имён доменов или определение указанного домена.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {DOMAINs | DOMAIN <replaceable>&lt;domain_name&gt;</replaceable>}
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW DOMAIN</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>domain_name</replaceable></entry>
                                <entry>
                                    <para>Наименование домена.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW DOMAIN отображает информацию о домене. Домен — это определенный
                пользователем тип данных, глобальный для базы данных. </para>

            <para>Команда SHOW DOMAIN имеют две формы. Первая отображает список всех известных
                доменов в базе данных, а вторая отображает сведения о конкретном домене.</para>

            <example>
                <title>Использование команды SHOW DOMAIN</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show domains;

       ADDRESSLINE                            BUDGET
       COUNTRYNAME                            CUSTNO
       DEPTNO                                 EMPNO
       FIRSTNAME                              JOBCODE
       JOBGRADE                               LASTNAME
       PHONENUMBER                            PONUMBER
       PRODTYPE                               PROJNO
       SALARY
       
SQL> show domain addressline;

ADDRESSLINE                     VARCHAR(30) Nullable
]]>                        
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_show-show_exeption">
            <title>SHOW EXCEPTION</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW EXCEPTION</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение информации обо всех или указанном исключении.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {EXCEPTIONs | EXCEPTION <replaceable>&lt;exception_name&gt;</replaceable>}
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW EXCEPTION</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>exception_name</replaceable></entry>
                                <entry>
                                    <para>Наименование исключения.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW EXCEPTION отображает все исключения, которые были определены в
                текущей базе данных. Отображаются также детальная информации об каждом исключениях:
                сообщение об ошибке, объекты, которые используют исключение. Вы можете отобразить
                детальную информацию об отдельном исключении, задав в качестве параметра имя
                исключения.</para>

            <example>
                <title>Использование команды SHOW EXCEPTION</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show exceptions;

Exception Name                  Used by, Type
=============================== =============================================
CUSTOMER_CHECK                  SHIP_ORDER, Stored procedure
Msg: Overdue balance -- can not ship.

CUSTOMER_ON_HOLD                SHIP_ORDER, Stored procedure
Msg: This customer is on hold.

ORDER_ALREADY_SHIPPED           SHIP_ORDER, Stored procedure
Msg: Order status is "shipped."

REASSIGN_SALES                  DELETE_EMPLOYEE, Stored procedure
Msg: Reassign the sales records before deleting this employee.

UNKNOWN_EMP_ID                  ADD_EMP_PROJ, Stored procedure
Msg: Invalid employee number or project id.



SQL> show exception customer_on_hold;

Exception Name                  Used by, Type
=============================== =============================================
CUSTOMER_ON_HOLD                SHIP_ORDER, Stored procedure
Msg: This customer is on hold.

]]>                        
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_show-show_filter">
            <title>SHOW FILTER</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW FILTER</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение списка BLOB-фильтров или информации об указанном фильтре.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {FILTERs | FILTER <replaceable>&lt;filter_name&gt;</replaceable>}
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW FILTER</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>filter_name</replaceable></entry>
                                <entry>
                                    <para>Наименование BLOB-фильтра.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW FILTER отображает список BLOB-фильтров определённых оператором
                    <code>DECLARE FILTER</code> или информацию об указанном фильтре.</para>

            <example>
                <title>Использование команды SHOW FILTER</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show filter;

    FUNNEL
...

SQL> show filter funnel; 

BLOB Filter: FUNNEL
Input subtype: 2 Output subtype: 1
Filter library is myfilterlib
Entry point is blr2asc
]]>                        
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_show-show_function">
            <title>SHOW FUNCTION</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW FUNCTION</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение информации обо всех определённых пользователем функциях или
                    определение указанной функции.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {FUNCTIONs | FUNCTION <replaceable>&lt;function_name&gt;</replaceable>}
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW FUNCTION</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>function_name</replaceable></entry>
                                <entry>
                                    <para>Наименование функции.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW FUNCTION отображает все определённые пользователем функции, а так же
                их зависимости, т.е. объекты которые используются функцией. Если указано имя функции
                в качестве параметра, то для будет отображена дополнительная информация, которая
                зависит от типа функции:<itemizedlist>
                    <listitem>
                        <para>для внешних Legacy функций будет отображена информация о входных
                            параметре и возвращаемом результате, имя динамической библиотеки, имя
                            точки входа;</para>
                    </listitem>
                    <listitem>
                        <para>для PSQL функций будет отображена информация о входных параметре и
                            возвращаемом результате и тексте функции;</para>
                    </listitem>
                    <listitem>
                        <para>для внешних UDR функций будет отображена информация о входных
                            параметре и возвращаемом результате, имени используемого плагина и точке
                            входа.</para>
                    </listitem>
                </itemizedlist></para>

            <example>
                <title>Использование команды SHOW FUNCTION</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show functions;
Global functions

Function Name                     Invalid Dependency, Type
================================= ======= =====================================
F                                         T, Table
GETEXACTTIMESTAMPUTC
ISLEAPYEAR
ISLEAPYEAR_2
SUM_ARGS


SQL> show function isleapyear;

External function ISLEAPYEAR:
Function library is fbudf
Entry point is isLeapYear
Returns  BY VALUE INTEGER
Argument 1: TIMESTAMP


SQL> show function isleapyear_2;
Function text:
=============================================================================
begin
  return mod(extract(year from adate), 4) = 0;
end
=============================================================================
Parameters:
                                  OUTPUT BOOLEAN
ADATE                             INPUT TIMESTAMP


SQL> show function f;
Function text:
=============================================================================
begin
  return (select count(*) from t);
end
=============================================================================
Parameters:
                                  OUTPUT INTEGER
                                  

SQL> show function sum_args;
External name: myudr!sum_args
Engine: UDR
Parameters:
                                  OUTPUT INTEGER
N1                                INPUT INTEGER
N2                                INPUT INTEGER
N3                                INPUT INTEGER
]]>                        
                    </programlisting>
                </para>
            </example>

            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-commands_show-show_procedure">SHOW PROCEDURE</link>, <link
                        linkend="isql-commands_show-show_trigger">SHOW TRIGGER</link>, <link
                        linkend="isql-commands_show-show_package">SHOW PACKAGE</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands_show-show_generator">
            <title>SHOW GENERATOR</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW GENERATOR</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение информации обо всех не системных генераторах или об одном
                    указанном генераторе.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {GENERATORs | GENERATOR <replaceable>&lt;generator_name&gt;</replaceable>}
                        
SHOW {SEQUENCEs | SEQUENCE <replaceable>&lt;sequence_name&gt;</replaceable>}                        
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW GENERATOR</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>generator_name</replaceable></entry>
                                <entry>
                                    <para>Наименование генератора (последовательности).</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Эти две команды идентичны. Генераторы — это старый термин Firebird для того, что
                обычно называют последовательностями в других базах данных, а также в SQL стандарте.
                Вам рекомендуется использовать последовательности, а не генераторы, но Firebird
                считает их одинаковыми.</para>

            <para>Если имя генератора (последовательности) не указано, то будут выведены сведения
                обо всех генераторах (имя, текущее значение, начальное значение, значение шага
                приращения). Если указано имя генератора (последовательности), то будет выведены
                сведения о конкретном генераторе.</para>

            <example>
                <title>Использование команды SHOW GENERATOR</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show generators;
Generator CUST_NO_GEN, current value: 1015, initial value: 0, increment: 1
Generator EMP_NO_GEN, current value: 145, initial value: 0, increment: 1

SQL> show generator emp_no_gen;
Generator EMP_NO_GEN, current value: 145, initial value: 0, increment: 1
]]>                        
                    </programlisting>
                </para>
            </example>


            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-commands_show-show_sequence">SHOW SEQUENCE</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands_show-show_grants">
            <title>SHOW GRANTS</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW GRANTS</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение список всех разрешений в текущей базе данных или разрешений на
                    указанный объект или разрешений для указанной роли.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {GRANTs | GRANT {<replaceable>&lt;object_name&gt;</replaceable> | <replaceable>&lt;role_name&gt;</replaceable>}}                        
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW GRANT</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>object_name</replaceable></entry>
                                <entry>
                                    <para>Наименование объекта метаданных для которого отображаются
                                        разрешения.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>role_name</replaceable></entry>
                                <entry>
                                    <para>Наименование роли для которой отображается список
                                        пользователей которым эта роль назначена.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW GRANT отображает список всех разрешений в текущей базе данных, если
                команда используется без параметров. Если в качестве аргумента команды указано имя
                объекта (таблица, процедура, функция, триггер, и т.д.), то будут отображены
                разрешения для указанного объекта. Если в качестве аргумента указано имя роли, то
                будет отображён список пользователей (вместе с оператором разрешения на роль) для
                которых выдана эта роль.</para>

            <example>
                <title>Использование команды SHOW GRANT</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show grants;

/* Grant permissions for this database */
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON COUNTRY 
TO PUBLIC WITH GRANT OPTION
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES 
ON CUSTOMER TO PUBLIC WITH GRANT OPTION
...
GRANT EXECUTE ON PROCEDURE SHIP_ORDER TO PUBLIC WITH GRANT OPTION
GRANT EXECUTE ON PROCEDURE SHOW_LANGS TO PUBLIC WITH GRANT OPTION
GRANT EXECUTE ON PROCEDURE SUB_TOT_BUDGET TO PUBLIC WITH GRANT OPTION

SQL> show grants employee;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES 
ON EMPLOYEE TO PUBLIC WITH GRANT OPTION

SQL> show grants ship_order;
GRANT EXECUTE ON PROCEDURE SHIP_ORDER TO PUBLIC WITH GRANT OPTION

SQL> show grants default_user;
GRANT DEFAULT_USER TO SYSDBA
]]>                        
                    </programlisting>
                </para>
            </example>

            <note>
                <para>Обратите внимание, что некоторые строки в приведенном выше разделены, чтобы
                    они могли поместиться на странице.</para>
            </note>
        </section>

        <section xml:id="isql-commands_show-show_indexes">
            <title>SHOW INDEXES</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW INDEX</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение информации обо всех индексах или об указанном индексе.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {INDexes | INDICES}

SHOW {INDICES | INDexes} <replaceable>&lt;table_name&gt;</replaceable>
                        
SHOW INDex <replaceable>&lt;index_name&gt;</replaceable>                     
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW INDICES</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>table_name</replaceable></entry>
                                <entry>
                                    <para>Наименование таблицы для которой будет отображён список
                                        индексов.</para>
                                </entry>
                            </row>
                            <row>
                                <entry><replaceable>index_name</replaceable></entry>
                                <entry>
                                    <para>Наименование индекса по которому бкдет отображена
                                        информации.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Первая форма этой команды перечислит все индексы в текущей базе данных. В этой
                форме вы можете использовать либо INDEXES, либо INDECES, они рассматриваются в
                Firebird как идентичные. Вторая форма команды будет отображать список индексов для
                указанной таблицы <replaceable>table_name</replaceable>. Опять же, вы можете
                использовать INDEXES, либо INDECES. В последней форме команды отображаются сведения
                о указанном индексе <replaceable>index_name</replaceable>, и в этой форме команды
                необходимо использовать ключевое слово INDEX.</para>

            <example>
                <title>Использование команды SHOW INDEX</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show indices;
RDB$PRIMARY1 UNIQUE INDEX ON COUNTRY(COUNTRY)
CUSTNAMEX INDEX ON CUSTOMER(CUSTOMER)
CUSTREGION INDEX ON CUSTOMER(COUNTRY, CITY)
...
RDB$PRIMARY24 UNIQUE INDEX ON SALES(PO_NUMBER)
SALESTATX INDEX ON SALES(ORDER_STATUS, PAID)


SQL> show indices employee;
NAMEX INDEX ON EMPLOYEE(LAST_NAME, FIRST_NAME)
RDB$FOREIGN8 INDEX ON EMPLOYEE(DEPT_NO)
RDB$FOREIGN9 INDEX ON EMPLOYEE(JOB_CODE, JOB_GRADE, JOB_COUNTRY)
RDB$PRIMARY7 UNIQUE INDEX ON EMPLOYEE(EMP_NO)


SQL> show index namex;
NAMEX INDEX ON EMPLOYEE(LAST_NAME, FIRST_NAME)
]]>                        
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_show-show_mapping">
            <title>SHOW MAPPING</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW MAPPING</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Информация локальных и глобальных отображений для объектов
                    безопасности.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {MAPping | MAPping <replaceable>&lt;mapping_name&gt;</replaceable> }                                       
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW MAPPING</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>mapping_name</replaceable></entry>
                                <entry>
                                    <para>Имя отображения.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW MAPPING выводит информацию обо всех отображениях (локальных и
                глобальных) для объектов безопасности. Если указано имя отображения, то будет
                выведена информация только он нём.</para>
            
            <example>
                <title>Использование команды SHOW MAPPING</title>
                
                <para>
                    <programlisting>
<![CDATA[
SQL> show mapping;
WIN_ADMINS USING PLUGIN WIN_SSPI FROM PREDEFINED_GROUP DOMAIN_ANY_RID_ADMINS TO ROLE RDB$ADMIN

*** Global mapping ***
TRUSTED_AUTH USING PLUGIN WIN_SSPI FROM ANY USER TO USER

SQL> show mapping win_admins;
WIN_ADMINS USING PLUGIN WIN_SSPI FROM PREDEFINED_GROUP DOMAIN_ANY_RID_ADMINS TO ROLE RDB$ADMIN
]]>                        
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_show-show_package">
            <title>SHOW PACKAGE</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW PACKAGE</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение списка пакетов или информации об указанном пакете.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {PACKages | PACKage <replaceable>&lt;package_name&gt;</replaceable> }                                       
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW PACKAGE</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>package_name</replaceable></entry>
                                <entry>
                                    <para>Имя пакета.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW PACKAGE отображает список всех пакетов определенных в текущей базе
                данных. Если в качестве параметра указано имя пакета, то будет отображён исходный
                код заголовка и тела пакета.</para>

            <example>
                <title>Использование команды SHOW PACKAGE</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show packages;

       CHECK_NAME_UTILS                       DATE_UTILS                            
       REPL_APPLY_UTILS                       REPL_LOG_UTILS
       REPL_TRIGGERS_UTILS                    REPL_WRITE_LOG
       
SQL> show package date_utils;

DATE_UTILS
Header source:
BEGIN
  ...  
  -- Возвращает строковое представление даты в формате dd MMM yyyy
  FUNCTION DateToChar_Rus(ADate DATE) RETURNS VARCHAR(35);
  -- Возвращает строковое представление даты в формате dd MMM yyyy
  FUNCTION DateToChar_En(ADate DATE) RETURNS VARCHAR(35);
  ...
END

Body source:
BEGIN
  ...
  /**
   * Возвращает строковое представление даты в формате dd MMM yyyy
   */
  FUNCTION DateToChar_Rus(ADate DATE) RETURNS VARCHAR(35)
  AS
  BEGIN
    RETURN EXTRACT(DAY FROM ADate) || ' ' ||
           TRIM (CASE EXTRACT(MONTH FROM ADate)
                  WHEN 1 THEN 'января'
                  WHEN 2 THEN 'февраля'
                  WHEN 3 THEN 'марта'
                  WHEN 4 THEN 'апреля'
                  WHEN 5 THEN 'мая'
                  WHEN 6 THEN 'июня'
                  WHEN 7 THEN 'июля'
                  WHEN 8 THEN 'августа'
                  WHEN 9 THEN 'сентября'
                  WHEN 10 THEN 'октября'
                  WHEN 11 THEN 'ноября'
                  WHEN 12 THEN 'декабря'
               END) || ' ' ||
               EXTRACT(YEAR FROM ADate);
  END

  /**
   * Возвращает строковое представление даты в формате dd MMM yyyy
   */
  FUNCTION DateToChar_En(ADate DATE) RETURNS VARCHAR(35)
  AS
  BEGIN
    RETURN EXTRACT(DAY FROM ADate) || ' ' ||
           TRIM (CASE EXTRACT(MONTH FROM ADate)
                   WHEN 1 THEN 'January'
                   WHEN 2 THEN 'February'
                   WHEN 3 THEN 'March'
                   WHEN 4 THEN 'April'
                   WHEN 5 THEN 'May'
                   WHEN 6 THEN 'June'
                   WHEN 7 THEN 'July'
                   WHEN 8 THEN 'August'
                   WHEN 9 THEN 'September'
                   WHEN 10 THEN 'October'
                   WHEN 11 THEN 'November'
                   WHEN 12 THEN 'December'
               END) || ' ' ||
               EXTRACT(YEAR FROM ADate);
  END
  ...
END  
]]>                        
                    </programlisting>
                </para>
            </example>
            
            <formalpara>
                <title>Смотри также:</title>
                
                <para><link linkend="isql-commands_show-show_function">SHOW FUNCTION</link>, <link
                    linkend="isql-commands_show-show_trigger">SHOW TRIGGER</link>, <link
                        linkend="isql-commands_show-show_procedure">SHOW PROCEDURE</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands_show-show_procedure">
            <title>SHOW PROCEDURE</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW PROCEDURE</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение информации обо всех процедурах в текущей базе данных или об
                    указанной процедуре.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {PROCedures | PROCedure <replaceable>&lt;procedure_name&gt;</replaceable> }                                       
                    </programlisting>
                </para>
            </formalpara>


            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW PROCEDURE</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>procedure_name</replaceable></entry>
                                <entry>
                                    <para>Имя хранимой процедуры.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW PROCEDURE позволяет отобразить список всех хранимых процедур
                определённых в текущей базе данных и их зависимостей, т.е. объекты которые
                используются процедурой. Если указано имя хранимой процедуры, то будет отображён её
                исходный код, а также сведения о входных и выходных параметрах.</para>

            <example>
                <title>Использование команды SHOW PROCEDURE</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show procedures;
Global procedures

Procedure Name                    Invalid Dependency, Type
================================= ======= =====================================
ADD_EMP_PROJ                              EMPLOYEE_PROJECT, Table
                                          UNKNOWN_EMP_ID, Exception
ALL_LANGS                                 JOB, Table
                                          SHOW_LANGS, Procedure
...


SQL> show procedure all_langs;
Procedure text:
=============================================================================
BEGIN
        FOR SELECT job_code, job_grade, job_country FROM job
                INTO :code, :grade, :country

        DO
        BEGIN
            FOR SELECT languages FROM show_langs
                    (:code, :grade, :country) INTO :lang DO
                SUSPEND;
            /* Put nice separators between rows */
            code = '=====';
            grade = '=====';
            country = '===============';
            lang = '==============';
            SUSPEND;
        END
    END
=============================================================================
Parameters:
CODE                              OUTPUT VARCHAR(5)
GRADE                             OUTPUT VARCHAR(5)
COUNTRY                           OUTPUT VARCHAR(15)
LANG                              OUTPUT VARCHAR(15)
]]>                        
                    </programlisting>
                </para>
            </example>

            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-commands_show-show_function">SHOW FUNCTION</link>, <link
                        linkend="isql-commands_show-show_trigger">SHOW TRIGGER</link>, <link
                        linkend="isql-commands_show-show_package">SHOW PACKAGE</link>.</para>
            </formalpara>

        </section>

        <section xml:id="isql-commands_show-show_role">
            <title>SHOW ROLE</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW ROLE</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение списка ролей в текущей базе данных, или списка пользователей
                    назначенных указанной роли.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {ROLEs | ROLE <replaceable>&lt;role_name&gt;</replaceable> }                                       
                    </programlisting>
                </para>
            </formalpara>


            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW ROLE</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>role_name</replaceable></entry>
                                <entry>
                                    <para>Имя роли.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW ROLE выводит список ролей в текущей базе данных. Если в качестве
                аргумента передано имя роли, то будет выведен список пользователей которым назначена
                указанная роль.</para>

            <example>
                <title>Использование команды SHOW ROLE</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show roles;
       R1                                     R2
       R3
       
SQL> show role r1;
Role R1 is granted to:
U1
U2       
]]>                        
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_show-show_secclasses">
            <title>SHOW SECCLASSES</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW SECCLASSES</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение информации о классах безопасности для заданного объекта.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW SECCLAsses <replaceable>&lt;object_name&gt;</replaceable>                                      
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW SECCLASSES</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>object_name</replaceable></entry>
                                <entry>
                                    <para>Имя объекта метаданных.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW SECCLASSES отображает информацию о классах безопасности для заданного
                объекта. В качестве <replaceable>object_name</replaceable> может быть передано не
                только имя таблицы, это может быть имя хранимой процедуры, представления и
                т.д.</para>

            <example>
                <title>Использование команды SHOW SECCLASSES</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show secclasses employee;

Table's main sec class SQL$440
Table's default sec class SQL$DEFAULT54    
]]>                        
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_show-show_sequence">
            <title>SHOW SEQUENCE</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW SEQUENCE</secondary>
            </indexterm>


            <formalpara>
                <title>Назначение:</title>

                <para>Отображение информации обо всех не системных последовательностях или об одной
                    указанной последовательности.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {SEQUENCEs | SEQUENCE <replaceable>&lt;sequence_name&gt;</replaceable>} 

SHOW {GENERATORs | GENERATOR <replaceable>&lt;generator_name&gt;</replaceable>}                                               
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW SEQUENCE</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>sequence_name</replaceable></entry>
                                <entry>
                                    <para>Наименование последовательности (генератора).</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Эти две команды идентичны. Генераторы — это старый термин Firebird для того, что
                обычно называют последовательностями в других базах данных, а также в SQL стандарте.
                Вам рекомендуется использовать последовательности, а не генераторы, но Firebird
                считает их одинаковыми.</para>

            <para>Если имя последовательности ( генератора) не указано, то будут выведены сведения
                обо всех последовательностях (имя, текущее значение, начальное значение, значение
                шага приращения). Если указано имя последовательности (генератора), то будет
                выведены сведения о конкретном последовательности.</para>

            <example>
                <title>Использование команды SHOW SEQUENCE</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show sequences;
Generator CUST_NO_GEN, current value: 1015, initial value: 0, increment: 1
Generator EMP_NO_GEN, current value: 145, initial value: 0, increment: 1

SQL> show sequence emp_no_gen;
Generator EMP_NO_GEN, current value: 145, initial value: 0, increment: 1
]]>                        
                    </programlisting>
                </para>
            </example>

            <formalpara>
                <title>Смотри также:</title>

                <para><link linkend="isql-commands_show-show_generator">SHOW
                    GENERATOR</link>.</para>
            </formalpara>

        </section>

        <section xml:id="isql-commands_show-show_sql_dialect">
            <title>SHOW SQL DIALECT</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW SQL DIALECT</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение SQL диалекта клиента и текущей базы данных.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW SQL DIALECT                                              
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SHOW SQL DIALECT отображает SQL диалект установленный в ISQL и диалект
                подключенной базы данных.</para>

            <example>
                <title>Использование команды SHOW SQL DIALECT</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show sql dialect;
        Client SQL dialect is set to: 3 and database SQL dialect is: 3
]]>                        
                    </programlisting>
                </para>
            </example>
        </section>

        <section xml:id="isql-commands_show-show_system">
            <title>SHOW SYSTEM</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW SYSTEM</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение списка системных объектов.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW SYStem [{TABLEs | FUNCTIONs | COLLATIONs | COLLATEs}]                                              
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SHOW SYSTEM выводит список внутренних, то есть системных объектов,
                созданных и используемых в текущей базе данных. По умолчанию отображаются системные
                таблицы, функции и сортировки. Необязательный параметр позволяет уточнить какой
                именно вид системных объектов необходимо отобразить.</para>

            <example>
                <title>Использование команды SHOW SYSTEM</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show system;

Tables:
       MON$ATTACHMENTS                        MON$CALL_STACK
       MON$CONTEXT_VARIABLES                  MON$DATABASE
...
       SEC$DB_CREATORS                        SEC$GLOBAL_AUTH_MAPPING
       SEC$USERS                              SEC$USER_ATTRIBUTES

Collations:
       ASCII                                  BIG_5
       BS_BA                                  CP943C
       CP943C_UNICODE                         CS_CZ
       CYRL                                   DA_DA
....
       WIN1257_EE                             WIN1257_LT
       WIN1257_LV                             WIN1258
       WIN_CZ                                 WIN_CZ_CI_AI
       WIN_PTBR
       
SQL> show system tables;

       MON$ATTACHMENTS                        MON$CALL_STACK
       MON$CONTEXT_VARIABLES                  MON$DATABASE
...
       SEC$DB_CREATORS                        SEC$GLOBAL_AUTH_MAPPING
       SEC$USERS                              SEC$USER_ATTRIBUTES       
]]>                        
                    </programlisting>
                </para>
            </example>

            <note>
                <para>В Firebird 2.0-2.5 существовали системные функции RDB$GET_CONTEXT и
                    RDB$SET_CONTEXT, которые позже стали встроенными. В Firebird 2.5 команда SHOW
                    SYSTEM отобразит следующее: <programlisting>
<![CDATA[
SQL> show system;

Tables:
       MON$ATTACHMENTS                        MON$CALL_STACK
       MON$CONTEXT_VARIABLES                  MON$DATABASE
...

Functions:
       RDB$GET_CONTEXT                        RDB$SET_CONTEXT

Collations:
       ASCII                                  BIG_5
       BS_BA                                  CP943C
....
       WIN_CZ                                 WIN_CZ_CI_AI
       WIN_PTBR
]]>                        
                    </programlisting>
                </para>
            </note>

            <para>Если вы хотите отобразить детали определенного объекта, просто используйте
                соответствующую команду show. <programlisting>
<![CDATA[
SQL> show table mon$io_stats;

MON$STAT_ID                     (RDB$STAT_ID) INTEGER Nullable
MON$STAT_GROUP                  (RDB$STAT_GROUP) SMALLINT Nullable
MON$PAGE_READS                  (RDB$COUNTER) BIGINT Nullable
MON$PAGE_WRITES                 (RDB$COUNTER) BIGINT Nullable
MON$PAGE_FETCHES                (RDB$COUNTER) BIGINT Nullable
MON$PAGE_MARKS                  (RDB$COUNTER) BIGINT Nullable

SQL> show collation ascii;

ASCII, CHARACTER SET ASCII, PAD SPACE, SYSTEM
]]>                        
                    </programlisting>
            </para>
        </section>

        <section xml:id="isql-commands_show-show_table">
            <title>SHOW TABLE</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW TABLE</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение списка таблиц или информации о заданной таблице.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {TABLEs | TABLE <replaceable>&lt;table_name&gt;</replaceable>}                                             
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW TABLE</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>table_name</replaceable></entry>
                                <entry>
                                    <para>Имя таблицы.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>В первом варианте команда SHOW TABLES отображает список таблиц, определённых в
                базе данных, в алфавитном порядке. Во втором варианте отображается список столбцов и
                их типы или домены для указанной в качестве параметра таблицы.</para>

            <example>
                <title>Использование команды SHOW TABLE</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show tables;

       COUNTRY                                CUSTOMER
       DEPARTMENT                             EMPLOYEE
       EMPLOYEE_PROJECT                       JOB
       PROJECT                                PROJ_DEPT_BUDGET
       SALARY_HISTORY                         SALES

SQL> show table country;

COUNTRY                         (COUNTRYNAME) VARCHAR(15) Not Null
CURRENCY                        VARCHAR(10) Not Null
CONSTRAINT INTEG_2:
  Primary key (COUNTRY)   
]]>                        
                    </programlisting>
                </para>
            </example>
            <para>Если для таблицы определены комментарии, эта команда не будет их отображать. Вы
                можете использовать команду SHOW COMMENTS, но помните, что тогда вам будут
                отображены все комментарии в базе данных. По-видимому, не существует метода
                извлечения комментариев для одного объекта, если только вы не запросите системные
                таблицы напрямую. <programlisting>
<![CDATA[
SQL> comment on table country is 'This table holds details about countries.';
SQL> commit;

SQL> show comments;
...
COMMENT ON TABLE        COUNTRY IS This table holds details about countries.;
...

SQL> show table country;

COUNTRY                         (COUNTRYNAME) VARCHAR(15) Not Null
CURRENCY                        VARCHAR(10) Not Null
CONSTRAINT INTEG_2:
  Primary key (COUNTRY)
  
SQL> select rdb$description
CON> from rdb$relations
CON> where rdb$relation_name = 'COUNTRY';

  RDB$DESCRIPTION
=================
            6:1ec
==============================================================================
RDB$DESCRIPTION:
This table holds details about countries.
============================================================================== 
]]>                        
                    </programlisting>
            </para>

            <para>Вывод последнего запроса выше не идеален, но, по крайней мере, он отображает
                гораздо меньше информации, когда в вашей базе данных много комментариев.</para>
        </section>

        <section xml:id="isql-commands_show-show_trigger">
            <title>SHOW TRIGGER</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW TRIGGER</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение списка триггеров или подробной информации об указанном
                    триггере.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {TRIGgers | TRIGger <replaceable>&lt;trig_name&gt;</replaceable>}                                             
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW TRIGGER</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>trig_name</replaceable></entry>
                                <entry>
                                    <para>Имя триггера.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW TRIGGER отображает список всех триггеров определённых в текущей базе
                данных. Для табличных триггеров будет выведено имя таблицы для которого был создан
                триггер.</para>

            <example>
                <title>Использование команды SHOW TRIGGERS</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show triggers;
Trigger name                     Invalid
================================ =======
TR_BEFORE_DISCONNECT

Table name                       Trigger name                     Invalid
================================ ================================ =======
AGE                              AGE_BD
AGE                              AGE_BI
AGE                              AGE_BU
AIMTYPE                          TR_AIMTYPE_BI
ALGORITHM                        TR_ALGORITHM_BI
......
]]>                        
                    </programlisting>
                </para>
            </example>

            <para>Если указано имя триггера, то будет отображена подробная информация о триггере
                (имя триггера, порядок срабатывания, событие, активен ли триггер), а также его
                исходный код.</para>

            <example>
                <title>Использование команды SHOW TRIGGER</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show trigger set_cust_no;

Triggers on Table CUSTOMER:
SET_CUST_NO, Sequence: 0, Type: BEFORE INSERT, Active
Trigger text:
=============================================================================
AS
BEGIN
    if (new.cust_no is null) then
    new.cust_no = gen_id(cust_no_gen, 1);
END
=============================================================================
]]>                        
                    </programlisting>
                </para>
            </example>
            
            <formalpara>
                <title>Смотри также:</title>
                
                <para><link linkend="isql-commands_show-show_function">SHOW FUNCTION</link>, <link
                    linkend="isql-commands_show-show_procedure">SHOW PROCEDURE</link>, <link
                        linkend="isql-commands_show-show_package">SHOW PACKAGE</link>.</para>
            </formalpara>
        </section>

        <section xml:id="isql-commands_show-show_users">
            <title>SHOW USERS</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW USERS</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение списка пользователей в текущей БД безопасности.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW USERs                                           
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SHOW USERS отображает список пользователей определённых в текущей базе
                данных безопасности. Если пользователь не является администратором в базе данных
                безопасности, то будет отображены только сведения о нём самом. Перед каждым именем
                пользователя указано число, которое отображает количество соединений выполненное
                этим пользователем. Если перед именем пользователя напечатана решётка
                    <quote>#</quote>, то это текущий пользователь.</para>

            <example>
                <title>Использование команды SHOW USERS</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show users;
Users in the database
  1 #SYSDBA                              2  U1
  0  U3
]]>                        
                    </programlisting>
                </para>

                <para>В данном случае есть одно соединение пользователем SYSDBA — это текущий
                    пользователь, и два соединения пользователем U1.</para>
            </example>
        </section>

        <section xml:id="isql-commands_show-show_version">
            <title>SHOW VERSION</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW VERSION</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение информации о версии ISQL, сервера и ODS базы данных.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW VERsion                                         
                    </programlisting>
                </para>
            </formalpara>

            <para>Команда SHOW VERSION отображает информацию о версии ISQL, версии сервера Firebird,
                сетевом протоколе, ODS текущей базы данных.</para>

            <example>
                <title>Использование команды SHOW VERSION</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show version;

ISQL Version: WI-V3.0.5.33168 Firebird 3.0
Server version:
Firebird/Windows/AMD/Intel/x64 (access method), 
version "WI-V3.0.5.33168 Firebird 3.0"
Firebird/Windows/AMD/Intel/x64 (remote server), 
version "WI-V3.0.5.33168 Firebird 3.0/tcp (DESKTOP-E3INAFT)/P15:C"
Firebird/Windows/AMD/Intel/x64 (remote interface), 
version "WI-V3.0.5.33168 Firebird 3.0/tcp (DESKTOP-E3INAFT)/P15:C"
on disk structure version 12.0
]]>                        
                    </programlisting>
                </para>
            </example>

            <note>
                <para>Обратите внимание, что некоторые строки в приведенном выше разделены, чтобы
                    они могли поместиться на странице.</para>
            </note>
        </section>

        <section xml:id="isql-commands_show-show_view">
            <title>SHOW VIEW</title>

            <indexterm>
                <primary>ISQL</primary>
                <secondary>SHOW VIEW</secondary>
            </indexterm>

            <formalpara>
                <title>Назначение:</title>

                <para>Отображение списка представлений или информации об указанном
                    представлении.</para>
            </formalpara>

            <formalpara>
                <title>Синтаксис:</title>
                <para>
                    <programlisting> 
SHOW {VIEWs | VIEW <replaceable>&lt;view_name&gt;</replaceable>}                                        
                    </programlisting>
                </para>
            </formalpara>

            <para>
                <table frame="all">
                    <title>Параметры оператора SHOW VIEW</title>
                    <?dbfo keep-together='auto'?>
                    <tgroup cols="2">
                        <colspec colname="colArgument" colnum="1" colwidth="1.2*" align="left"/>
                        <colspec colname="colDesc" colnum="2" colwidth="2.8*" align="left"/>
                        <thead>
                            <row valign="middle">
                                <entry align="center">Параметр</entry>
                                <entry align="center">Описание</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><replaceable>view_name</replaceable></entry>
                                <entry>
                                    <para>Имя представления.</para>
                                </entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </para>

            <para>Команда SHOW VIEW отображает список представлений определённых в текущей базе
                данных. Если в качестве аргумента указано имя представления, то будет отображён
                список его столбцов с типами или доменами, и исходный код представления.</para>

            <example>
                <title>Использование команды SHOW VIEW</title>

                <para>
                    <programlisting>
<![CDATA[
SQL> show views;

       PHONE_LIST
       
SQL> show view phone_list;

EMP_NO                          (EMPNO) SMALLINT Not Null
FIRST_NAME                      (FIRSTNAME) VARCHAR(15) Not Null
LAST_NAME                       (LASTNAME) VARCHAR(20) Not Null
PHONE_EXT                       VARCHAR(4) Nullable
LOCATION                        VARCHAR(15) Nullable
PHONE_NO                        (PHONENUMBER) VARCHAR(20) Nullable
View Source:
==== ======
SELECT
    emp_no, first_name, last_name, phone_ext, location, phone_no
    FROM employee, department
    WHERE employee.dept_no = department.dept_no
]]>                        
                    </programlisting>
                </para>
            </example>
        </section>
    </section>
</chapter>
