<!DOCTYPE chapter>
<chapter xmlns="http://docbook.org/ns/docbook" version="5.0" xml:id="files" xml:lang="ru">
    <info>
        <title>Состав файлов сервера</title>
    </info>

    <section>
        <title>Файлы конфигурации</title>

        <simplesect>
            <title>databases.conf</title>
            <para> В этом текстовом файле можно сопоставить конкретный путь к БД и псевдоним, чтобы
                затем в прикладных кодах использовать более короткий и удобный псевдоним для
                обращения к нужной базе данных. Также здесь указываются индивидуальные настройки для
                каждой конкретной базы данных. Если под управлением сервера Firebird находится более
                1 базы данных, то рекомендуем все настройки уровня базы данных делать в этом
                файле.</para>
        </simplesect>

        <simplesect>
            <title>fbtrace.conf</title>
            <para>Файл с шаблоном настроек fbtrace.conf находится в корневом каталоге и содержит
                список отслеживаемых событий и указывает размещение логов трассировки для каждого
                события. Это позволяет достаточно гибко настроить параметры аудита различных событий
                для любой базы данных, при этом логирование будет осуществляться в отдельные
                файлы.</para>
        </simplesect>

        <simplesect>
            <title>firebird.conf</title>
            <para>Файл содержит параметры конфигурации сервера.</para>
        </simplesect>

        <simplesect>
            <title>plugins.conf</title>
            <para>Файл используется для настройки различных плагинов. Если в файле не указана
                конфигурация для плагина, то для него будут действовать настройки по
                умолчанию.</para>
        </simplesect>
    </section>

    <section>
        <title>Инструменты администрирования и сервисы</title>

        <simplesect>
            <title>fb_lock_print</title>
            <para>Эта утилита формирует статистические данные файла блокировок, который
                поддерживается в Firebird для управления последовательностью изменений базы данных
                несколькими транзакциями. Она может быть полезным инструментом анализа проблем
                взаимной блокировки.</para>
        </simplesect>

        <simplesect>
            <title>fbguard</title>
            <para>Исполняемый файл приложения Guardian. Он контролирует процесс сервера. Если сервер
                упал по какой-либо причине, Guardian автоматически перезапускает его.</para>

            <note>
                <para>В современных версиях Windows не требуется. Дело в том, что у служб можно
                    установить свойство автоматического перезапуска в случае падения. Однако данная
                    утилита может быть полезна, если Firebird запускается в качестве
                    приложения.</para>
            </note>
        </simplesect>

        <simplesect>
            <title>fbsvcmgr</title>
            <para>Утилита предоставляет интерфейс командной строки для Services API, обеспечивая
                доступ к любой службе, которая реализуется в СУБД.</para>
        </simplesect>

        <simplesect>
            <title>fbtracemgr</title>
            <para>Утилита для работы в интерактивном режиме с трассировкой.</para>
        </simplesect>

        <simplesect>
            <title>firebird</title>
            <para>Исполняемый файл сервера (слушатель).</para>
        </simplesect>

        <simplesect>
            <title>gbak</title>
            <para>Эта утилита предназначена для резервного копирования и восстановления баз данных.
                Она также обнаруживает разрушения базы данных, освобождает дисковое пространство,
                появившееся в результате удалений, разрешает незавершенные транзакции, позволяет
                разделять базы данных на несколько файлов. Она также используется для создания
                переносимой копии с целью восстановления вашей базы данных на другой аппаратной
                платформе.</para>
        </simplesect>

        <simplesect>
            <title>gfix</title>
            <para>Это набор общих вспомогательных утилит для изменения свойств баз данных,
                устранения небольших повреждений базы данных, выполнения различных задач чистки и т.
                д. Утилита также предоставляет средство администратора для отключения конкретных баз
                данных до завершения работы сервера. Она может быть использована вместе с утилитой
                gbak для восстановления некоторых типов нарушений в базе данных.</para>
        </simplesect>

        <simplesect>
            <title>gpre</title>
            <para>Это препроцессор, который конвертирует исходный код, написанный на некоторых
                языках и содержащий встроенный псевдокод SQL, в корректный отформатированный вызов
                функций Firebird API.</para>
        </simplesect>

        <simplesect>
            <title>gsec</title>
            <para>Этот инструмент поддержки списка пользователей и их паролей является интерфейсом
                командной строки для базы данных security3.fdb; он управляет записями пользователей
                на сервере.</para>
        </simplesect>

        <simplesect>
            <title>gsplit</title>
            <para>Это фильтр, который позволяет преодолевать ограничения на максимальный размер
                файла, существующие в некоторых операционных системах, при создании резервной копии
                очень большой базы данных. Эта утилита поставляется только для ОС Windows и, к
                сожалению, кажется она не работает. К счастью, gbak позволяет разбивать файлы
                резервной копии на несколько частей, так что gsplit не требуется. В системах ОС Unix
                существует подходящие утилиты из операционной системы, которые могут быть
                использованы вместо gsplit, если это необходимо.</para>
        </simplesect>

        <simplesect>
            <title>gstat</title>
            <para>Этот инструмент получения статистики. Он собирает и отображает статистические
                сведения по индексам и данным базы данных.</para>
        </simplesect>

        <simplesect>
            <title>instclient</title>
            <para>Назначение утилиты instclient состоит в том, что она:<itemizedlist>
                    <listitem>
                        <para>позволяет установить клиентскую часть Firebird одной командой;</para>
                    </listitem>
                    <listitem>
                        <para> позволяет установить клиентскую часть как fbclient.dll, либо как
                            gds32.dll; </para>
                    </listitem>
                    <listitem>
                        <para> позволяет проверить наличие установленной библиотеки fbclient или
                            gds32; </para>
                    </listitem>
                    <listitem>
                        <para> позволяет удалить уже установленный в системе fbclient или gds32.
                        </para>
                    </listitem>
                </itemizedlist></para>
        </simplesect>

        <simplesect>
            <title>instreg</title>
            <para>Эта утилита прописывает необходимую информацию в реестр Windows, указывая
                умолчательное расположение остальных файлов сервера.</para>
        </simplesect>

        <simplesect>
            <title>instsvc</title>
            <para>Утилита instsvc записывает, удаляет или меняет информацию о запуске сервера в базе
                сервисов операционной системы Windows.</para>
        </simplesect>

        <simplesect>
            <title>isql</title>
            <para>Интерактивный инструмент, который позволяет выполнять запросы к базе
                данных.</para>
        </simplesect>

        <simplesect>
            <title>nbackup</title>
            <para>Утилита позволяет создавать резервные копии и восстанавливать из резервных копий
                также, как gbak, и дополнительно позволяет создавать инкрементные копии и
                восстанавливать из них БД.</para>
        </simplesect>

        <simplesect>
            <title>qli</title>
            <para>Это Query Language Interpreter (интерпретатор языка запросов), интерактивный
                клиентский инструмент запросов. Он может обрабатывать операторы DDL и DML из SQL и
                GDML. Хотя уже есть isql и другие инструменты графического интерфейса сторонних
                разработчиков, qli все еще имеет значение по причине его способности осуществлять
                некоторые операции, до сих пор не реализованные в SQL Firebird. В отличие от isql,
                qli может одновременно соединяться более чем с одной базой данных и может
                симулировать обращение к нескольким базам данных в одном запросе.</para>
        </simplesect>
    </section>

    <section>
        <title>Другие файлы</title>
        <simplesect>
            <title>security3.fdb</title>
            <para>База данных безопасности. В этой базе хранятся параметры пользователей системы,
                политики доступа, глобальные роли.</para>
        </simplesect>
        <simplesect>
            <title>firebird.log</title>
            <para>Лог-файл сервера.</para>
        </simplesect>
        <simplesect>
            <title>firebird.msg</title>
            <para>Файл с сообщениями сервера (в основном об ошибках)</para>
        </simplesect>
    </section>
</chapter>
